{"mappings":"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","sources":["src/js/index.js","src/js/renderCards.js","src/js/pagination.js","src/js/paginationS.js","src/js/upBtn.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './renderCards';\nimport './cardModal';\nimport './pagination';\nimport './paginationS';\nimport './upBtn';\nimport './renderCards';\n\n","import cardTemplate from '../templates/cardTemplate.hbs'\nimport NewApiService from './api-servis';\nimport { numberOfGeneras, ganreListProcessin } from './searchByKeyword';\nimport NewLoader from './loader';\nconst container = document.querySelector('.main-content');\nconst newApiService = new NewApiService();\nconst newLoader = new NewLoader();\nganreListProcessin().then(fetchData);\n\nasync function fetchData(genresBase) { \n  try { \n    newLoader.showLoader();\n    await new Promise(resolve => setTimeout(resolve, 300));\n    await newApiService.fetchPopularMovies().then(({ results }) => {\n      const mk =  results.map(({ poster_path, original_title, genre_ids, release_date, id }) => {\n       \n         const date = release_date.slice(0, 4);\n         const genres = [...genresBase.genres];\n          const genreIds = genre_ids;\n          let genresNames = [];\n          const other = 'Other';\n\n          for (let i = 0; i < genreIds.length; i++) {\n            const genre = genres.find(g => g.id === genreIds[i]);\n            genresNames.push(genre.name);\n          }\n\n          let currentGanre = null;\n         if (genresNames.length < numberOfGeneras) {\n               currentGanre = genresNames.join(',  ');\n           } else {\n            currentGanre = [...genresNames.slice(0, 2), other].join(', ');\n           }\n        return {poster_path, original_title, currentGanre,date, id};\n       }\n      );\n        const marKup = cardTemplate({mk});\n        container.innerHTML = marKup;\n        newLoader.hideLoader();\n     });\n  } catch (error) {\n    console.error('Помилка під час отримання даних:', error);\n  }\n} \n","\n//імпорт асинхронної функції феч з отриманням даних з сервера \nimport cardTemplate from '../templates/cardTemplate.hbs'\nimport NewApiService from './api-servis'\nconst newApiService = new NewApiService()\n\n\nlet page = 1;\nlet total = 20;\nlet markup = '';\nconst LEFT_ARROW = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROW = `<svg class=\"pagination__icon-rigth\"></svg>`;\n\nconst pagePag = document.querySelector('.pagination');\nconst pageMainContent = document.querySelector('.main-content');\n\ntotalAll();\nmainContent();\nrenderPagination(page, total);\naddListener();\nswitchArrow();\n\n//перемикач по кліку на цифри\n\n function addListener(){\n  const liElItems = document.querySelectorAll(\".pagination__btn\");\n\n  for (const liElItem of liElItems) {\n    if (liElItem.classList.contains('pagination__points')) {\n      continue;\n    }\n    liElItem.addEventListener('click', e => {\n      pageNum(liElItem.textContent * 1);\n      newApiService.pageNum = page;\n      reseter();\n      mainContent();\n      renderPagination(page, total);\n\n      addListener();\n      switchArrow ();\n    })\n  } \n\n}\n\n//перемикач по кліку на <>\n\nfunction switchArrow (){\n  const jsBtnArrows = document.querySelectorAll(\".js-arrow\");\n  \n  for (const jsBtnArrow of jsBtnArrows){\n    jsBtnArrow.addEventListener ('click', (e) => {\n  \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-left\")) {\n\n        page = page - 1;\n        newApiService.pageNum = page;\n        reseter();\n        mainContent();\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n\n      \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-right\")) {\n        page = page + 1\n\n        newApiService.pageNum = page;\n        reseter();\n        mainContent();\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n    });\n  }\n}\n\n// відбудова карток\nfunction mainContent() {\n  const pageMainContent = document.querySelector('.main-content');\n  newApiService.fetchPopularMovies().then(({ results }) => {\n    results.map(result => {\n      const { poster_path, original_title, genre_ids, release_date, id } =\n        result;\n      const genres = genre_ids.join(', ');\n      const date = release_date.slice(0, 4);\n      const mk = cardTemplate({\n        poster_path,\n        original_title,\n        genres,\n        date,\n        id,\n      });\n      const container = document.querySelector('.main-content');\n      container.insertAdjacentHTML('beforeend', mk);\n    });\n  });\n\n}  \n\n//відбудова кнопок\nfunction renderPagination() { \n\n  \n\n  if (total < 6) {\n    if (page != 1) { \n      markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n    }\n    for (let p = 1; p <= total; p++) {\n      console.log(total);\n      if (p === page) {\n        markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n      } else {\n        markup += `<li class=\"pagination__btn \">${p}</li>`;\n      }\n    }\n  } else {\n    if (page < 4) {\n      if (page != 1) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n      }\n      for (let p = 1; p <= page + 2; p++) {\n        if (p === page) {\n          markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n        } else {\n          markup += `<li class=\"pagination__btn \">${p}</li>`;\n        }\n      }\n      markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markup += `<li class=\"pagination__btn \">${total}</li>`;\n      markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n    } else {\n      if (page > total - 3) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n        markup += `<li class=\"pagination__btn \">1</li>`;\n        markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = page - 2; p <= total; p = p + 1) {\n          if (p === page) {\n            markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n          } else {\n            markup += `<li class=\"pagination__btn \">${p}</li>`;\n          }\n        }\n        if (total === page) {\n          markup += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROW}</button>`;\n        } else {\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      } else {\n        if (page <= total - 3) {\n          markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n          markup += `<li class=\"pagination__btn \">1</li>`;\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = page - 2; p <= page + 2; p = p + 1) {\n            if (p === page) {\n              markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n            } else {\n              markup += `<li class=\"pagination__btn \">${p}</li>`;\n            }\n          }\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          markup += `<li class=\"pagination__btn \">${total}</li>`;\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      }\n    }\n  }\n  pagePag.innerHTML = markup;\n  markup = '';\n}\n\n//очистка\nfunction reseter() {\n  pagePag.innerHTML = '';\n  pageMainContent.innerHTML = '';\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  page = newPage;\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAll() {\n  newApiService.fetchPopularMovies().then(res => {\n    totalAll = res.total_pages;\n\n    totalPage(totalAll)\n  })\n\n  function totalPage() {\n    if (totalAll > 500) {\n      total = 500;\n    } else {\n      total = totalAll;\n    }\n  }\n} \n\n","import apiServer from './api-servis'\nimport searchRenderBox from '../templates/searchRenger.hbs'\nimport NewApiService from './api-servis'\nconst apiServise = new apiServer()\nconst newApiService = new NewApiService()\n\nconst numberOfGeneras = 4;\nconst refs = {\n    searchForm: document.querySelector('.header__search'),\n    main: document.querySelector('.main-content'),\n    wrongSearchMess: document.querySelector('.wrong-search'),\n};\n\nlet pageS = 1;\nlet totalS = 20;\nlet markupS = '';\nconst LEFT_ARROWS = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROWS = `<svg class=\"pagination__icon-rigth\"></svg>`; \nconst pagePag = document.querySelector('.pagination');\n//const pageMainContent = document.querySelector('.main-content');\n\nrefs.searchForm.addEventListener('submit', onClickSubmit)\n\nfunction onClickSubmit(e){\n  e.preventDefault()\n  onInputForm(e);\n  totalAllS();\n  reseterS();\n  renderPaginationS(pageS, totalS)\n  addListenerS();\n  switchArrowS();\n}\n\nfunction onInputForm(e){\n  apiServise.query = e.currentTarget.elements.search.value;\n  ganreListProcessin().then(createCards);  \n}\n\nasync function ganreListProcessin(){\n  let comparisonList = JSON.parse(localStorage.getItem('ganre-List'));\n  try {\n    if(!localStorage.getItem('ganre-List')){\n      const  ganres =  await apiServise.fetchGenresMovies();     \n      comparisonList = ganres;\n      const localStorageJson = JSON.stringify(ganres);\n      localStorage.setItem('ganre-List',localStorageJson);\n    }\n  } catch (error) {\n    console.log(\"ganreListProcessin\", error);\n  }\n  return comparisonList;\n}\n\n//відбудова карток\nasync function createCards(genresBase){\n  try{\n    await apiServise.fetchSearchMoviesPages().then(({results}) =>{\n      refs.wrongSearchMess.classList.add(\"visually-hidden\")\n      if(!results.length){\n        refs.wrongSearchMess.classList.remove(\"visually-hidden\");\n        return;\n      } \n      const articleStore = results.map(({title, release_date, poster_path, genre_ids, id}) =>{\n        release_date = release_date.slice(0,4);\n        poster_path = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        const genres = [...genresBase.genres];\n        const genreIds = genre_ids;\n        let genresNames = [];\n        const other =\"Other\"\n        for (let i = 0; i < genreIds.length; i++) {\n          const genre = genres.find(g => g.id === genreIds[i]);\n          genresNames.push(genre.name); \n        }\n        let currentGanre = [...genresNames.slice(0,2), other].join(' ');\n        if( genresNames.length < numberOfGeneras ){\n          currentGanre = [...genresNames].join(' ');\n        }\n        return {title, release_date, currentGanre, poster_path, id};\n      });\n      const markup = searchRenderBox({articleStore});\n      refs.main.innerHTML = markup;       \n    });    \n  } catch (error) {\n    console.log(\"createCards\", error);\n  }\n}\n\n//перемикач по кліку на цифри\n function addListenerS(){\n  const liElItemsS = document.querySelectorAll(\".pagination__btn\");\n  for (const liElItem of liElItemsS) {\n    \n    if (liElItem.classList.contains(\"pagination__points\")){\n      continue;\n    }\n    liElItem.addEventListener('click', (e) =>{\n      pageNum(liElItem.textContent*1)\n      apiServise.pageNum = pageS;\n      reseterS();\n      ganreListProcessin(apiServise.query).then(createCards)\n      renderPaginationS(pageS, totalS);\n      addListenerS();\n      switchArrowS();\n    })\n  } \n}\n\n//перемикач по кліку на <>\nfunction switchArrowS (){\n  const jsBtnArrows = document.querySelectorAll(\".js-arrow\");\n  \n  for (const jsBtnArrow of jsBtnArrows){\n    jsBtnArrow.addEventListener ('click', (e) => {\n  \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-left\")) {\n        pageS = pageS - 1;\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards)\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      }\n      \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-right\")) {\n        pageS = pageS + 1\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards)\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      };\n    }); \n  }  \n}\n\n//відбудова кнопок\nfunction renderPaginationS() { \n  \n  if (totalS < 6) {\n    if (pageS != 1) {\n      markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n    }\n    for (let p = 1; p <= totalS; p++) {\n      if (p === pageS) {\n        markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n      } else {\n      markupS += `<li class=\"pagination__btn \">${p}</li>`\n      } \n    }\n  } else {\n    if (pageS < 4) {\n      if (pageS != 1) {\n       markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n      }\n      for (let p = 1; p <= pageS + 2; p++) {\n        if (p === pageS) {\n          markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n        } else {\n        markupS += `<li class=\"pagination__btn \">${p}</li>`\n        }        \n      }\n      markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n      markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n    } else {\n      if (pageS > totalS - 3) {\n          markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n          markupS += `<li class=\"pagination__btn \">1</li>`;\n          markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = pageS-2; p <= totalS; p=p+1) {\n          if (p === pageS) {\n            markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n          } else {\n            markupS += `<li class=\"pagination__btn \">${p}</li>`;\n          }        \n        } \n        if (totalS === pageS){\n            markupS += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROWS}</button>`;\n        } else {\n            markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n        }\n      } else {\n        if (pageS <= totalS - 3) {\n            markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n            markupS += `<li class=\"pagination__btn \">1</li>`;\n            markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = pageS-2; p <= pageS+2; p=p+1){\n            if (p === pageS) {\n              markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n            } else {\n              markupS += `<li class=\"pagination__btn \">${p}</li>`;\n              }\n          }\n            markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n            markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n            markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;   \n        } \n      } \n    }\n  }\n  pagePag.innerHTML = markupS\n  markupS = \"\";\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  pageS = newPage;\n}\n\n//очистка\nfunction reseterS(){\n  pagePag.innerHTML = '';\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAllS() {\n  apiServise.fetchSearchMoviesPages(apiServise.query).then(res => {\n    totalAllS = res.total_pages;\n    totalPageS(totalAllS)\n  })\n\n  function totalPageS() {\n    if (totalAllS > 500) {\n      totalS = 500\n    } else {totalS = totalAllS}\n  }\n} ","function backToTop() {\n  let button = document.querySelector('.back-to-top');\n\n  window.addEventListener('scroll', () => {\n    const scrollY = window.scrollY || document.documentElement.scrollTop;\n    if (scrollY >= 300) {\n      button.classList.remove('btn-up_hide');\n    } else {\n      button.classList.add('btn-up_hide');\n    }\n  });\n\n  button.addEventListener('click', e => {\n    e.preventDefault();\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n}\nbackToTop();\n"],"names":["parcelRequire","$gh9Wa","$dc777f51b705d798$var$container","document","querySelector","$dc777f51b705d798$var$newApiService","$fgrH9","default","$dc777f51b705d798$var$newLoader","$gjiCh","$lxQoS","ganreListProcessin","then","async","genresBase","showLoader","Promise","resolve","setTimeout","fetchPopularMovies","results","mk","map","poster_path","original_title","genre_ids","release_date","id","date","slice","genres","genreIds","genresNames","i","length","genre","find","g","push","name","currentGanre","numberOfGeneras","join","marKup","innerHTML","hideLoader","error","console","$1bab9c519cfa82bc$var$newApiService","$1bab9c519cfa82bc$var$page","$1bab9c519cfa82bc$var$total","$1bab9c519cfa82bc$var$markup","$1bab9c519cfa82bc$var$pagePag","$1bab9c519cfa82bc$var$pageMainContent","$1bab9c519cfa82bc$var$addListener","liElItems","querySelectorAll","liElItem","classList","contains","addEventListener","e","newPage","textContent","pageNum","$1bab9c519cfa82bc$var$reseter","$1bab9c519cfa82bc$var$mainContent","$1bab9c519cfa82bc$var$renderPagination","$1bab9c519cfa82bc$var$switchArrow","jsBtnArrows","jsBtnArrow","result","insertAdjacentHTML","p","log","$1bab9c519cfa82bc$var$totalAll","res","total_pages","$9700784ebf227999$var$apiServise","$9700784ebf227999$var$refs","searchForm","main","wrongSearchMess","$9700784ebf227999$var$pageS","$9700784ebf227999$var$totalS","$9700784ebf227999$var$markupS","$9700784ebf227999$var$pagePag","$9700784ebf227999$var$ganreListProcessin","comparisonList","JSON","parse","localStorage","getItem","ganres","fetchGenresMovies","localStorageJson","stringify","setItem","$9700784ebf227999$var$createCards","fetchSearchMoviesPages","add","remove","articleStore","title","markup","$5BiId","$9700784ebf227999$var$addListenerS","liElItemsS","$9700784ebf227999$var$reseterS","query","$9700784ebf227999$var$renderPaginationS","$9700784ebf227999$var$switchArrowS","$9700784ebf227999$var$totalAllS","preventDefault","currentTarget","elements","search","value","$9700784ebf227999$var$onInputForm","button","window","scrollY","documentElement","scrollTop","scrollTo","top","left","behavior","$847794d47e5d1621$var$backToTop"],"version":3,"file":"index.2a7d016f.js.map"}