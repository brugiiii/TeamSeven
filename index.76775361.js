!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},e=t.parcelRequired7c6;null==e&&((e=function(n){if(n in a)return a[n].exports;if(n in i){var t=i[n];delete i[n];var e={id:n,exports:{}};return a[n]=e,t.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){i[n]=t},t.parcelRequired7c6=e),e("dsadE"),e("9BNc1");var o=e("bpxeT"),r=e("8nrFW"),c=e("2TvXO"),s=e("drCPS"),l=e("igxJ3"),u=e("9BNc1"),_=e("kvC6y"),p=new(0,l.default),g=new(0,_.default);function f(){return(f=n(o)(n(c).mark((function t(a){return n(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g.showLoader(),t.next=4,new Promise((function(n){return setTimeout(n,300)}));case 4:return t.next=6,p.fetchPopularMovies().then((function(t){t.results.map((function(t){for(var i=function(n){var t=g.find((function(t){return t.id===f[n]}));d.push(t.name)},e=t.poster_path,o=t.original_title,c=t.genre_ids,l=t.release_date,_=t.id,p=l.slice(0,4),g=n(r)(a.genres),f=c,d=[],b=0;b<f.length;b++)i(b);var v=n(r)(d.slice(0,2)).concat(["Other"]).join(" ");d.length<u.numberOfGeneras&&(v=n(r)(d).join(" "));var h=(0,s.default)({poster_path:e,original_title:o,currentGanre:v,date:p,id:_});document.querySelector(".main-content").insertAdjacentHTML("beforeend",h)}))}));case 6:g.hideLoader(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Помилка під час отримання даних:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}(0,u.ganreListProcessin)().then((function(n){return f.apply(this,arguments)})),e("1RG4E");s=e("drCPS");var d=new(0,(l=e("igxJ3")).default),b=1,v=20,h="",w='<svg class="pagination__icon-left"></svg>',m='<svg class="pagination__icon-rigth"></svg>',y=document.querySelector(".pagination"),L=document.querySelector(".main-content");function S(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,b=t,d.pageNum=b,M(),j(),q(),S(),x()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function x(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(b-=1,d.pageNum=b,M(),j(),q(),x(),S()),a.classList.contains("pagination__arrow-right")&&(b+=1,d.pageNum=b,M(),j(),q(),x(),S())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function j(){document.querySelector(".main-content");d.fetchPopularMovies().then((function(n){n.results.map((function(n){var t=n.poster_path,a=n.original_title,i=n.genre_ids,e=n.release_date,o=n.id,r=i.join(", "),c=e.slice(0,4),l=(0,s.default)({poster_path:t,original_title:a,genres:r,date:c,id:o});document.querySelector(".main-content").insertAdjacentHTML("beforeend",l)}))}))}function q(){if(v<6){1!=b&&(h+='<button class="pagination__arrow-left js-arrow">'.concat(w,"</button>"));for(var n=1;n<=v;n++)console.log(v),h+=n===b?'<li class="pagination__btn pagination__btn-active ">'.concat(b,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(b<4){1!=b&&(h+='<button class="pagination__arrow-left js-arrow">'.concat(w,"</button>"));for(var t=1;t<=b+2;t++)h+=t===b?'<li class="pagination__btn pagination__btn-active ">'.concat(b,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");h+='<li class="pagination__btn pagination__points">...</li>',h+='<li class="pagination__btn ">'.concat(v,"</li>"),h+='<button class="pagination__arrow-right js-arrow">'.concat(m,"</button>")}else if(b>v-3){h+='<button class="pagination__arrow-left js-arrow">'.concat(w,"</button>"),h+='<li class="pagination__btn ">1</li>',h+='<li class="pagination__btn pagination__points">...</li>';for(var a=b-2;a<=v;a+=1)h+=a===b?'<li class="pagination__btn pagination__btn-active ">'.concat(b,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");h+=v===b?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(m,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(m,"</button>")}else if(b<=v-3){h+='<button class="pagination__arrow-left js-arrow">'.concat(w,"</button>"),h+='<li class="pagination__btn ">1</li>',h+='<li class="pagination__btn pagination__points">...</li>';for(var i=b-2;i<=b+2;i+=1)h+=i===b?'<li class="pagination__btn pagination__btn-active ">'.concat(b,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");h+='<li class="pagination__btn pagination__points">...</li>',h+='<li class="pagination__btn ">'.concat(v,"</li>"),h+='<button class="pagination__arrow-right js-arrow">'.concat(m,"</button>")}y.innerHTML=h,h=""}function M(){y.innerHTML="",L.innerHTML=""}function T(){d.fetchPopularMovies().then((function(n){T=n.total_pages,v=T>500?500:T}))}T(),j(),q(),S(),x();o=e("bpxeT"),r=e("8nrFW"),c=e("2TvXO"),l=e("igxJ3");var k,E=e("4p7m4"),N=new(0,(l=e("igxJ3")).default),O=(new(0,l.default),{searchForm:document.querySelector(".header__search"),main:document.querySelector(".main-content"),wrongSearchMess:document.querySelector(".wrong-search")}),P=1,H=20,C="",A='<svg class="pagination__icon-left"></svg>',J='<svg class="pagination__icon-rigth"></svg>',F=document.querySelector(".pagination");function G(){return D.apply(this,arguments)}function D(){return(D=n(o)(n(c).mark((function t(){var a,i,e;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=JSON.parse(localStorage.getItem("ganre-List")),n.prev=1,localStorage.getItem("ganre-List")){n.next=9;break}return n.next=5,N.fetchGenresMovies();case 5:i=n.sent,a=i,e=JSON.stringify(i),localStorage.setItem("ganre-List",e);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("ganreListProcessin",n.t0);case 14:return n.abrupt("return",a);case 15:case"end":return n.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function I(n){return R.apply(this,arguments)}function R(){return(R=n(o)(n(c).mark((function t(a){return n(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.fetchSearchMoviesPages().then((function(t){var i=t.results;if(O.wrongSearchMess.classList.add("visually-hidden"),i.length){var e=i.map((function(t){var i=function(n){var t=u.find((function(t){return t.id===_[n]}));p.push(t.name)},e=t.title,o=t.release_date,c=t.poster_path,s=t.genre_ids,l=t.id;o=o.slice(0,4),c="https://image.tmdb.org/t/p/w500".concat(c);for(var u=n(r)(a.genres),_=s,p=[],g=0;g<_.length;g++)i(g);var f=n(r)(p.slice(0,2)).concat(["Other"]).join(" ");return p.length<4&&(f=n(r)(p).join(" ")),{title:e,release_date:o,currentGanre:f,poster_path:c,id:l}})),o=(0,E.default)({articleStore:e});O.main.innerHTML=o}else O.wrongSearchMess.classList.remove("visually-hidden")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("createCards",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function B(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,P=t,N.pageNum=P,X(),G(N.query).then(I),W(),B(),U()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function U(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(P-=1,N.pageNum=P,X(),G(N.query).then(I),W(),U(),B()),a.classList.contains("pagination__arrow-right")&&(P+=1,N.pageNum=P,X(),G(N.query).then(I),W(),U(),B())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function W(){if(H<6){1!=P&&(C+='<button class="pagination__arrow-left js-arrow">'.concat(A,"</button>"));for(var n=1;n<=H;n++)C+=n===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(P<4){1!=P&&(C+='<button class="pagination__arrow-left js-arrow">'.concat(A,"</button>"));for(var t=1;t<=P+2;t++)C+=t===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");C+='<li class="pagination__btn pagination__points">...</li>',C+='<li class="pagination__btn ">'.concat(H,"</li>"),C+='<button class="pagination__arrow-right js-arrow">'.concat(J,"</button>")}else if(P>H-3){C+='<button class="pagination__arrow-left js-arrow">'.concat(A,"</button>"),C+='<li class="pagination__btn ">1</li>',C+='<li class="pagination__btn pagination__points">...</li>';for(var a=P-2;a<=H;a+=1)C+=a===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");C+=H===P?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(J,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(J,"</button>")}else if(P<=H-3){C+='<button class="pagination__arrow-left js-arrow">'.concat(A,"</button>"),C+='<li class="pagination__btn ">1</li>',C+='<li class="pagination__btn pagination__points">...</li>';for(var i=P-2;i<=P+2;i+=1)C+=i===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");C+='<li class="pagination__btn pagination__points">...</li>',C+='<li class="pagination__btn ">'.concat(H,"</li>"),C+='<button class="pagination__arrow-right js-arrow">'.concat(J,"</button>")}F.innerHTML=C,C=""}function X(){F.innerHTML=""}function Y(){N.fetchSearchMoviesPages(N.query).then((function(n){Y=n.total_pages,H=Y>500?500:Y}))}O.searchForm.addEventListener("submit",(function(n){n.preventDefault(),function(n){N.query=n.currentTarget.elements.search.value,G().then(I)}(n),Y(),X(),W(),B(),U()})),k=document.querySelector(".back-to-top"),window.addEventListener("scroll",(function(){(window.scrollY||document.documentElement.scrollTop)>=300?k.classList.remove("btn-up_hide"):k.classList.add("btn-up_hide")})),k.addEventListener("click",(function(n){n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.76775361.js.map
