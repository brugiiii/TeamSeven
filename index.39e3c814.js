!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},e=t.parcelRequired7c6;null==e&&((e=function(n){if(n in a)return a[n].exports;if(n in i){var t=i[n];delete i[n];var e={id:n,exports:{}};return a[n]=e,t.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){i[n]=t},t.parcelRequired7c6=e),e("dsadE"),e("9BNc1"),e("1RG4E");var o=e("bpxeT"),r=e("8nrFW"),l=e("2TvXO"),c=e("l5bVx"),s=n(e("WMajR")).template({1:function(t,a,i,e,o){var r,l=null!=a?a:t.nullContext||{},s=t.hooks.helperMissing,u="function",p=t.escapeExpression,_=t.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"<li class='card-item' data-action='"+p((void 0===(r=null!=(r=_(i,"id")||(null!=a?_(a,"id"):a))?r:s)?"undefined":n(c)(r))===u?r.call(l,{name:"id",hash:{},data:o,loc:{start:{line:2,column:35},end:{line:2,column:41}}}):r)+"'>\n  <div class='card-img'>\n    <img\n      src='https://image.tmdb.org/t/p/w500"+p((void 0===(r=null!=(r=_(i,"poster_path")||(null!=a?_(a,"poster_path"):a))?r:s)?"undefined":n(c)(r))===u?r.call(l,{name:"poster_path",hash:{},data:o,loc:{start:{line:5,column:42},end:{line:5,column:57}}}):r)+"'\n      class='card-img-top'\n      alt='"+p((void 0===(r=null!=(r=_(i,"original_title")||(null!=a?_(a,"original_title"):a))?r:s)?"undefined":n(c)(r))===u?r.call(l,{name:"original_title",hash:{},data:o,loc:{start:{line:7,column:11},end:{line:7,column:29}}}):r)+"'\n    />\n  </div>\n  <div class='card-body'>\n    <p class='card-title'>"+p((void 0===(r=null!=(r=_(i,"original_title")||(null!=a?_(a,"original_title"):a))?r:s)?"undefined":n(c)(r))===u?r.call(l,{name:"original_title",hash:{},data:o,loc:{start:{line:11,column:26},end:{line:11,column:44}}}):r)+"</p>\n    <p class='card-text'>"+p((void 0===(r=null!=(r=_(i,"currentGanre")||(null!=a?_(a,"currentGanre"):a))?r:s)?"undefined":n(c)(r))===u?r.call(l,{name:"currentGanre",hash:{},data:o,loc:{start:{line:12,column:25},end:{line:12,column:41}}}):r)+" | "+p((void 0===(r=null!=(r=_(i,"date")||(null!=a?_(a,"date"):a))?r:s)?"undefined":n(c)(r))===u?r.call(l,{name:"date",hash:{},data:o,loc:{start:{line:12,column:44},end:{line:12,column:52}}}):r)+"</p>\n  </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,t,a,i,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(a,"each").call(null!=t?t:n.nullContext||{},null!=t?r(t,"mk"):t,{name:"each",hash:{},fn:n.program(1,e,0),inverse:n.noop,data:e,loc:{start:{line:1,column:0},end:{line:15,column:9}}}))?o:""},useData:!0}),u=e("igxJ3"),p=e("9BNc1"),_=new(0,u.default),g=1,d=20,f="",h='<svg class="pagination__icon-left"></svg>',v='<svg class="pagination__icon-rigth"></svg>',b=document.querySelector(".pagination"),m=document.querySelector(".main-content");function w(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,g=t,_.pageNum=g,j(),(0,p.ganreListProcessin)().then(L),S(),w(),y()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function y(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(g-=1,_.pageNum=g,j(),(0,p.ganreListProcessin)().then(L),S(),y(),w()),a.classList.contains("pagination__arrow-right")&&(g+=1,_.pageNum=g,j(),(0,p.ganreListProcessin)().then(L),S(),y(),w())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function L(n){return x.apply(this,arguments)}function x(){return(x=n(o)(n(l).mark((function t(a){return n(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.fetchPopularMovies().then((function(t){var i=t.results.map((function(t){var i=function(n){var t=_.find((function(t){return t.id===g[n]}));d.push(t.name)},e=t.poster_path,o=t.original_title,l=t.genre_ids,c=t.release_date,s=t.id,u=c.slice(0,4);console.log(u);for(var _=n(r)(a.genres),g=l,d=[],f=0;f<g.length;f++)i(f);return{poster_path:e,original_title:o,currentGanre:d.length<p.numberOfGeneras?d.join(",  "):n(r)(d.slice(0,2)).concat(["Other"]).join(", "),date:u,id:s}})),e=s({mk:i});m.innerHTML=e}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Помилка під час отримання даних:",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function S(){if(d<6){1!=g&&(f+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"));for(var n=1;n<=d;n++)console.log(d),f+=n===g?'<li class="pagination__btn pagination__btn-active ">'.concat(g,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(g<4){1!=g&&(f+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"));for(var t=1;t<=g+2;t++)f+=t===g?'<li class="pagination__btn pagination__btn-active ">'.concat(g,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");f+='<li class="pagination__btn pagination__points">...</li>',f+='<li class="pagination__btn ">'.concat(d,"</li>"),f+='<button class="pagination__arrow-right js-arrow">'.concat(v,"</button>")}else if(g>d-3){f+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"),f+='<li class="pagination__btn ">1</li>',f+='<li class="pagination__btn pagination__points">...</li>';for(var a=g-2;a<=d;a+=1)f+=a===g?'<li class="pagination__btn pagination__btn-active ">'.concat(g,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");f+=d===g?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(v,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(v,"</button>")}else if(g<=d-3){f+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"),f+='<li class="pagination__btn ">1</li>',f+='<li class="pagination__btn pagination__points">...</li>';for(var i=g-2;i<=g+2;i+=1)f+=i===g?'<li class="pagination__btn pagination__btn-active ">'.concat(g,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");f+='<li class="pagination__btn pagination__points">...</li>',f+='<li class="pagination__btn ">'.concat(d,"</li>"),f+='<button class="pagination__arrow-right js-arrow">'.concat(v,"</button>")}b.innerHTML=f,f=""}function j(){b.innerHTML="",m.innerHTML=""}function M(){_.fetchPopularMovies().then((function(n){M=n.total_pages,d=M>500?500:M}))}M(),(0,p.ganreListProcessin)().then(L),S(),w(),y();o=e("bpxeT"),r=e("8nrFW"),l=e("2TvXO"),u=e("igxJ3");var k,q=e("4p7m4"),T=new(0,(u=e("igxJ3")).default),O=(new(0,u.default),{searchForm:document.querySelector(".header__search"),main:document.querySelector(".main-content"),wrongSearchMess:document.querySelector(".wrong-search")}),E=1,P=20,N="",G='<svg class="pagination__icon-left"></svg>',H='<svg class="pagination__icon-rigth"></svg>',C=document.querySelector(".pagination");function D(){return F.apply(this,arguments)}function F(){return(F=n(o)(n(l).mark((function t(){var a,i,e;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=JSON.parse(localStorage.getItem("ganre-List")),n.prev=1,localStorage.getItem("ganre-List")){n.next=9;break}return n.next=5,T.fetchGenresMovies();case 5:i=n.sent,a=i,e=JSON.stringify(i),localStorage.setItem("ganre-List",e);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("ganreListProcessin",n.t0);case 14:return n.abrupt("return",a);case 15:case"end":return n.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function J(n){return A.apply(this,arguments)}function A(){return(A=n(o)(n(l).mark((function t(a){return n(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.fetchSearchMoviesPages().then((function(t){var i=t.results;if(O.wrongSearchMess.classList.add("visually-hidden"),i.length){var e=i.map((function(t){var i=function(n){var t=u.find((function(t){return t.id===p[n]}));_.push(t.name)},e=t.title,o=t.release_date,l=t.poster_path,c=t.genre_ids,s=t.id;o=o.slice(0,4),l="https://image.tmdb.org/t/p/w500".concat(l);for(var u=n(r)(a.genres),p=c,_=[],g=0;g<p.length;g++)i(g);var d=n(r)(_.slice(0,2)).concat(["Other"]).join(" ");return _.length<4&&(d=n(r)(_).join(" ")),{title:e,release_date:o,currentGanre:d,poster_path:l,id:s}})),o=(0,q.default)({articleStore:e});O.main.innerHTML=o}else O.wrongSearchMess.classList.remove("visually-hidden")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("createCards",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function R(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,E=t,T.pageNum=E,B(),D(T.query).then(J),W(),R(),I()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function I(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(E-=1,T.pageNum=E,B(),D(T.query).then(J),W(),I(),R()),a.classList.contains("pagination__arrow-right")&&(E+=1,T.pageNum=E,B(),D(T.query).then(J),W(),I(),R())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function W(){if(P<6){1!=E&&(N+='<button class="pagination__arrow-left js-arrow">'.concat(G,"</button>"));for(var n=1;n<=P;n++)N+=n===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(E<4){1!=E&&(N+='<button class="pagination__arrow-left js-arrow">'.concat(G,"</button>"));for(var t=1;t<=E+2;t++)N+=t===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");N+='<li class="pagination__btn pagination__points">...</li>',N+='<li class="pagination__btn ">'.concat(P,"</li>"),N+='<button class="pagination__arrow-right js-arrow">'.concat(H,"</button>")}else if(E>P-3){N+='<button class="pagination__arrow-left js-arrow">'.concat(G,"</button>"),N+='<li class="pagination__btn ">1</li>',N+='<li class="pagination__btn pagination__points">...</li>';for(var a=E-2;a<=P;a+=1)N+=a===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");N+=P===E?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(H,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(H,"</button>")}else if(E<=P-3){N+='<button class="pagination__arrow-left js-arrow">'.concat(G,"</button>"),N+='<li class="pagination__btn ">1</li>',N+='<li class="pagination__btn pagination__points">...</li>';for(var i=E-2;i<=E+2;i+=1)N+=i===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");N+='<li class="pagination__btn pagination__points">...</li>',N+='<li class="pagination__btn ">'.concat(P,"</li>"),N+='<button class="pagination__arrow-right js-arrow">'.concat(H,"</button>")}C.innerHTML=N,N=""}function B(){C.innerHTML=""}function U(){T.fetchSearchMoviesPages(T.query).then((function(n){U=n.total_pages,P=U>500?500:U}))}O.searchForm.addEventListener("submit",(function(n){n.preventDefault(),function(n){T.query=n.currentTarget.elements.search.value,D().then(J)}(n),U(),B(),W(),R(),I()})),k=document.querySelector(".back-to-top"),window.addEventListener("scroll",(function(){(window.scrollY||document.documentElement.scrollTop)>=300?k.classList.remove("btn-up_hide"):k.classList.add("btn-up_hide")})),k.addEventListener("click",(function(n){n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.39e3c814.js.map
