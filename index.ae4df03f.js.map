{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAGA,MAAME,EAAgB,IAAI,EAAAC,EAAAC,SAC1B,IAAIC,EAAa,MAChBC,iBACCD,QAAmB,EAAAE,EAAAC,qB,CAEpBC,GAEDP,EAAcQ,qBAAqBC,MAAK,EAACC,QAAEA,MAGzCA,EAAQC,KAAIC,IACV,MAAMC,YAAEA,EAAWC,eAAEA,EAAcC,UAAEA,EAASC,aAAEA,EAAYC,GAAEA,GAAOL,EAE/DM,EAAOF,EAAaG,MAAM,EAAG,GAE9BC,EAAS,IAAIjB,EAAWiB,QACxBC,EAAWN,EACjB,IAAIO,EAAc,GAElB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAASG,OAAQD,IAAK,CACzC,MAAME,EAAQL,EAAOM,MAAKC,GAAKA,EAAEV,KAAOI,EAASE,KACjDD,EAAYM,KAAKH,EAAMI,K,CAEzB,IAAIC,EAAe,IAAIR,EAAYH,MAAM,EAAE,GAL7B,SAKwCY,KAAK,KACvDT,EAAYE,OAASnB,EAAA2B,kBACvBF,EAAe,IAAIR,GAAaS,KAAK,MAGrC,MAAME,GAAK,EAAAlC,EAAAG,SAAa,C,YAAEW,E,eAAaC,E,aAAgBgB,E,KAAcZ,E,GAAMD,IAEzDiB,SAASC,cAAc,iBAC/BC,mBAAmB,YAAaH,EAAG,GAC7C,I","sources":["src/js/index.js","src/js/renderCards.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './renderCards';\nimport './cardModal';\n","import cardTemplate from '../templates/cardTemplate.hbs';\nimport NewApiService from './api-servis';\nimport { numberOfGeneras ,ganreListProcessin} from './searchByKeyword'\nconst newApiService = new NewApiService();\nlet genresBase = null;\n async function getBase() {\n  genresBase = await ganreListProcessin();\n }\n getBase();\n  \nnewApiService.fetchPopularMovies().then(({ results }) => {\n\n \n  results.map(result => {\n    const { poster_path, original_title, genre_ids, release_date, id } = result;\n    //  const genres = genre_ids.join(', ');\n    const date = release_date.slice(0, 4);\n\n   const genres = [...genresBase.genres];\n   const genreIds = genre_ids;\n   let genresNames = [];\n   const other =\"Other\"\n   for (let i = 0; i < genreIds.length; i++) {\n    const genre = genres.find(g => g.id === genreIds[i]);\n    genresNames.push(genre.name); \n  }\n  let currentGanre = [...genresNames.slice(0,2), other].join(' ');\n  if( genresNames.length < numberOfGeneras ){\n    currentGanre = [...genresNames].join(' ');\n  }\n\n    const mk = cardTemplate({ poster_path, original_title, currentGanre, date, id });\n\n    const container = document.querySelector('.main-content');\n    container.insertAdjacentHTML('beforeend', mk);\n  });\n});\n"],"names":["parcelRequire","$gh9Wa","$dc777f51b705d798$var$newApiService","$fgrH9","default","$dc777f51b705d798$var$genresBase","async","$lxQoS","ganreListProcessin","$dc777f51b705d798$var$getBase","fetchPopularMovies","then","results","map","result","poster_path","original_title","genre_ids","release_date","id","date","slice","genres","genreIds","genresNames","i","length","genre","find","g","push","name","currentGanre","join","numberOfGeneras","mk","document","querySelector","insertAdjacentHTML"],"version":3,"file":"index.ae4df03f.js.map"}