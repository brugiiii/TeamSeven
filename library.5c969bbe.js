!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},l=n.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){a[e]=n},n.parcelRequired7c6=l),l("dsadE"),l("9BNc1"),l("1RG4E");var r=l("bpxeT"),i=l("8nrFW"),o=l("2TvXO"),c=l("kvC6y"),d=l("gE17f"),u=l("UL92Z"),s=l("l5bVx"),p=(e(l("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(n,t,a,l,r){var i,o=null!=t?t:n.nullContext||{},c=n.hooks.helperMissing,d="function",u=n.escapeExpression,p=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='card-item' data-action='"+u((void 0===(i=null!=(i=p(a,"id")||(null!=t?p(t,"id"):t))?i:c)?"undefined":e(s)(i))===d?i.call(o,{name:"id",hash:{},data:r,loc:{start:{line:1,column:35},end:{line:1,column:41}}}):i)+"'>\n  <div class='card-img'>\n    <img\n      src='https://image.tmdb.org/t/p/w500"+u((void 0===(i=null!=(i=p(a,"poster_path")||(null!=t?p(t,"poster_path"):t))?i:c)?"undefined":e(s)(i))===d?i.call(o,{name:"poster_path",hash:{},data:r,loc:{start:{line:4,column:42},end:{line:4,column:57}}}):i)+"'\n      class='card-img-top'\n      alt='"+u((void 0===(i=null!=(i=p(a,"original_title")||(null!=t?p(t,"original_title"):t))?i:c)?"undefined":e(s)(i))===d?i.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:6,column:11},end:{line:6,column:29}}}):i)+"'\n    />\n  </div>\n  <div class='card-body'>\n    <p class='card-title'>"+u((void 0===(i=null!=(i=p(a,"original_title")||(null!=t?p(t,"original_title"):t))?i:c)?"undefined":e(s)(i))===d?i.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:10,column:26},end:{line:10,column:44}}}):i)+"</p>\n    <p class='card-text'>"+u((void 0===(i=null!=(i=p(a,"currentGanre")||(null!=t?p(t,"currentGanre"):t))?i:c)?"undefined":e(s)(i))===d?i.call(o,{name:"currentGanre",hash:{},data:r,loc:{start:{line:11,column:25},end:{line:11,column:41}}}):i)+" | "+u((void 0===(i=null!=(i=p(a,"date")||(null!=t?p(t,"date"):t))?i:c)?"undefined":e(s)(i))===d?i.call(o,{name:"date",hash:{},data:r,loc:{start:{line:11,column:44},end:{line:11,column:52}}}):i)+"</p>\n  </div>\n</li>"},useData:!0}),l("drCPS")),f=l("9BNc1"),m=new(0,c.default),h={btnWatched:document.querySelector(".library__btn-watched"),btnQueue:document.querySelector(".library__btn-queue")};function v(){return(v=e(r)(e(o).mark((function n(t){var a,l;return e(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m.showLoader(),n.next=4,new Promise((function(e){return setTimeout(e,300)}));case 4:a=(0,u.load)(u.storageKeys.WATCHED)||[],(l=document.querySelector(".main-content")).innerHTML="",a.map((function(n){for(var a=function(e){var n=m.find((function(n){return n.id===h[e].id}));v.push(n.name)},r=n.poster_path,o=n.original_title,c=n.genres,d=n.release_date,u=n.id,s=d.slice(0,4),m=e(i)(t.genres),h=c,v=[],g=0;g<h.length;g++)a(g);var b=e(i)(v.slice(0,2)).concat(["Other"]).join(", ");v.length<f.numberOfGeneras&&(b=e(i)(v).join(", "));var _=(0,p.default)({poster_path:r,original_title:o,currentGanre:b,date:s,id:u});l.insertAdjacentHTML("beforeend",_)})),m.hideLoader(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error("Помилка під час отримання даних:",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}(0,f.ganreListProcessin)().then((function(e){return v.apply(this,arguments)})),h.btnWatched.addEventListener("click",(function(e){h.btnWatched.classList.add("is-active"),h.btnQueue.classList.remove("is-active"),d.loadFromStorageWatched()})),h.btnQueue.addEventListener("click",(function(e){h.btnQueue.classList.add("is-active"),h.btnWatched.classList.remove("is-active"),d.loadFromStorageQueue()}))}();
//# sourceMappingURL=library.5c969bbe.js.map
