!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},i={},a=t.parcelRequired7c6;null==a&&((a=function(n){if(n in e)return e[n].exports;if(n in i){var t=i[n];delete i[n];var a={id:n,exports:{}};return e[n]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){i[n]=t},t.parcelRequired7c6=a),a("dsadE"),a("9BNc1"),a("1RG4E");var o,r=a("bpxeT"),c=a("8nrFW"),s=a("2TvXO"),l=a("drCPS"),u=a("igxJ3"),p=a("9BNc1"),_=a("kvC6y"),f=new(0,u.default),d=new(0,_.default),g=1,v=20,b="",h='<svg class="pagination__icon-left"></svg>',w='<svg class="pagination__icon-rigth"></svg>',m=document.querySelector(".pagination"),y=document.querySelector(".main-content"),L=document.querySelector(".header__search");function x(){var n=document.querySelectorAll(".pagination__btn"),t=!0,e=!1,i=void 0;try{for(var a,o=function(n,t){var e=t.value;if(e.classList.contains("pagination__points"))return"continue";e.addEventListener("click",(function(n){E(1*e.textContent),f.pageNum=g,k(),(0,p.ganreListProcessin)().then(j),S(g,v),x(),T()}))},r=n[Symbol.iterator]();!(t=(a=r.next()).done);t=!0)o(0,a)}catch(n){e=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}L.addEventListener("submit",(function(n){E(1*liElItem.textContent),k(),(0,p.onInputForm)(),S(g,v),x(),T()}))}function T(){var n=document.querySelectorAll(".js-arrow"),t=!0,e=!1,i=void 0;try{for(var a,o=function(n,t){var e=t.value;e.addEventListener("click",(function(n){e.classList.contains("pagination__arrow-left")&&(g-=1,f.pageNum=g,k(),(0,p.ganreListProcessin)().then(j),S(g,v),T(),x()),e.classList.contains("pagination__arrow-right")&&(g+=1,f.pageNum=g,k(),(0,p.ganreListProcessin)().then(j),S(g,v),T(),x())}))},r=n[Symbol.iterator]();!(t=(a=r.next()).done);t=!0)o(0,a)}catch(n){e=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}function j(n){return P.apply(this,arguments)}function P(){return(P=n(r)(n(s).mark((function t(e){return n(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d.showLoader(),t.next=4,new Promise((function(n){return setTimeout(n,300)}));case 4:return t.next=6,f.fetchPopularMovies().then((function(t){t.results.map((function(t){for(var i=function(n){var t=f.find((function(t){return t.id===d[n]}));g.push(t.name)},a=t.poster_path,o=t.original_title,r=t.genre_ids,s=t.release_date,u=t.id,_=s.slice(0,4),f=n(c)(e.genres),d=r,g=[],v=0;v<d.length;v++)i(v);var b=n(c)(g.slice(0,2)).concat(["Other"]).join(" ");g.length<p.numberOfGeneras&&(b=n(c)(g).join(" "));var h=(0,l.default)({poster_path:a,original_title:o,currentGanre:b,date:_,id:u});document.querySelector(".main-content").insertAdjacentHTML("beforeend",h)}))}));case 6:d.hideLoader(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Помилка під час отримання даних:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function S(n,t){if(t<6){1!=n&&(b+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"));for(var e=1;e<=t;e++)console.log(t),b+=e===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(e,"</li>")}else if(n<4){1!=n&&(b+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"));for(var i=1;i<=n+2;i++)b+=i===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");b+='<li class="pagination__btn pagination__points">...</li>',b+='<li class="pagination__btn ">'.concat(t,"</li>"),b+='<button class="pagination__arrow-right js-arrow">'.concat(w,"</button>")}else if(n>t-3){b+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"),b+='<li class="pagination__btn ">1</li>',b+='<li class="pagination__btn pagination__points">...</li>';for(var a=n-2;a<=t;a+=1)b+=a===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");b+=t===n?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(w,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(w,"</button>")}else if(n<=t-3){b+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"),b+='<li class="pagination__btn ">1</li>',b+='<li class="pagination__btn pagination__points">...</li>';for(var o=n-2;o<=n+2;o+=1)b+=o===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(o,"</li>");b+='<li class="pagination__btn pagination__points">...</li>',b+='<li class="pagination__btn ">'.concat(t,"</li>"),b+='<button class="pagination__arrow-right js-arrow">'.concat(w,"</button>")}m.innerHTML=b,b=""}function k(){m.innerHTML="",y.innerHTML=""}function E(n){g=n}function q(){f.fetchPopularMovies().then((function(n){q=n.total_pages,v=q>500?500:q}))}q(),(0,p.ganreListProcessin)().then(j),S(g,v),x(),T(),o=document.querySelector(".back-to-top"),window.addEventListener("scroll",(function(){(window.scrollY||document.documentElement.scrollTop)>=300?o.classList.remove("btn-up_hide"):o.classList.add("btn-up_hide")})),o.addEventListener("click",(function(n){n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}));r=a("bpxeT"),c=a("8nrFW"),s=a("2TvXO"),l=a("drCPS"),u=a("igxJ3"),p=a("9BNc1"),_=a("kvC6y");var M=document.querySelector(".main-content"),O=new(0,u.default),N=new(0,_.default);function C(){return(C=n(r)(n(s).mark((function t(e){return n(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,N.showLoader(),t.next=4,new Promise((function(n){return setTimeout(n,300)}));case 4:return t.next=6,O.fetchPopularMovies().then((function(t){var i=t.results.map((function(t){for(var i=function(n){var t=_.find((function(t){return t.id===f[n]}));d.push(t.name)},a=t.poster_path,o=t.original_title,r=t.genre_ids,s=t.release_date,l=t.id,u=s.slice(0,4),_=n(c)(e.genres),f=r,d=[],g=0;g<f.length;g++)i(g);return{poster_path:a,original_title:o,currentGanre:d.length<p.numberOfGeneras?d.join(",  "):n(c)(d.slice(0,2)).concat(["Other"]).join(", "),date:u,id:l}})),a=(0,l.default)({mk:i});M.innerHTML=a,N.hideLoader()}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Помилка під час отримання даних:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}(0,p.ganreListProcessin)().then((function(n){return C.apply(this,arguments)}))}();
//# sourceMappingURL=index.3e3741d5.js.map
