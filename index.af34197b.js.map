{"mappings":"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","sources":["src/js/index.js","src/js/pagination.js","src/js/paginationS.js","src/js/upBtn.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './cardModal';\nimport './pagination';\nimport './paginationS';\nimport './upBtn';\nimport './renderCards';\n","//імпорт асинхронної функції феч з отриманням даних з сервера\nimport cardTemplate from '../templates/cardTemplate.hbs';\nimport NewApiService from './api-servis';\nconst newApiService = new NewApiService();\n\nimport { numberOfGeneras, ganreListProcessin } from './searchByKeyword';\n\nlet page = 1;\nlet total = 20;\nlet markup = '';\nconst LEFT_ARROW = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROW = `<svg class=\"pagination__icon-rigth\"></svg>`;\n\nconst pagePag = document.querySelector('.pagination');\nconst pageMainContent = document.querySelector('.main-content');\n\ntotalAll();\nganreListProcessin().then(fetchData);\nrenderPagination(page, total);\naddListener();\nswitchArrow();\n\n//перемикач по кліку на цифри\n\nfunction addListener() {\n  const liElItems = document.querySelectorAll('.pagination__btn');\n\n  for (const liElItem of liElItems) {\n    if (liElItem.classList.contains('pagination__points')) {\n      continue;\n    }\n    liElItem.addEventListener('click', e => {\n      // if (liElItem) {\n      pageNum(liElItem.textContent * 1);\n      newApiService.pageNum = page;\n      reseter();\n      ganreListProcessin().then(fetchData);\n      renderPagination(page, total);\n\n      addListener();\n      switchArrow();\n\n      // }\n    });\n  }\n}\n\n//перемикач по кліку на <>\n\nfunction switchArrow() {\n  const jsBtnArrows = document.querySelectorAll('.js-arrow');\n\n  for (const jsBtnArrow of jsBtnArrows) {\n    jsBtnArrow.addEventListener('click', e => {\n      if (jsBtnArrow.classList.contains('pagination__arrow-left')) {\n        page = page - 1;\n        newApiService.pageNum = page;\n        reseter();\n        ganreListProcessin().then(fetchData);\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n\n      if (jsBtnArrow.classList.contains('pagination__arrow-right')) {\n        page = page + 1;\n\n        newApiService.pageNum = page;\n        reseter();\n        ganreListProcessin().then(fetchData);\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n    });\n  }\n}\n\n// відбудова карток\n\nasync function fetchData(genresBase) {\n  try {\n    await newApiService.fetchPopularMovies().then(({ results }) => {\n      const mk = results.map(\n        ({ poster_path, original_title, genre_ids, release_date, id }) => {\n          const date = release_date.slice(0, 4);\n          console.log(date);\n          const genres = [...genresBase.genres];\n          const genreIds = genre_ids;\n          let genresNames = [];\n          const other = 'Other';\n\n          for (let i = 0; i < genreIds.length; i++) {\n            const genre = genres.find(g => g.id === genreIds[i]);\n            genresNames.push(genre.name);\n          }\n\n          let currentGanre = null;\n          if (genresNames.length < numberOfGeneras) {\n            currentGanre = genresNames.join(',  ');\n          } else {\n            currentGanre = [...genresNames.slice(0, 2), other].join(', ');\n          }\n          return { poster_path, original_title, currentGanre, date, id };\n        }\n      );\n      const marKup = cardTemplate({ mk });\n      pageMainContent.innerHTML = marKup;\n    });\n  } catch (error) {\n    console.error('Помилка під час отримання даних:', error);\n  }\n}\n// function mainContent() {\n//   const pageMainContent = document.querySelector('.main-content');\n//   newApiService.fetchPopularMovies().then(({ results }) => {\n//     console.log(results);\n//     results.map(result => {\n//       const { poster_path, original_title, genre_ids, release_date, id } =\n//         result;\n//       const genres = genre_ids.join(', ');\n//       const date = release_date.slice(0, 4);\n//       const mk = cardTemplate({\n//         poster_path,\n//         original_title,\n//         genres,\n//         date,\n//         id,\n//       });\n//       const container = document.querySelector('.main-content');\n//       container.insertAdjacentHTML('beforeend', mk);\n//     });\n//   });\n// }\n\n//відбудова кнопок\nfunction renderPagination() {\n  if (total < 6) {\n    if (page != 1) {\n      markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n    }\n    for (let p = 1; p <= total; p++) {\n      console.log(total);\n      if (p === page) {\n        markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n      } else {\n        markup += `<li class=\"pagination__btn \">${p}</li>`;\n      }\n    }\n  } else {\n    if (page < 4) {\n      if (page != 1) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n      }\n      for (let p = 1; p <= page + 2; p++) {\n        if (p === page) {\n          markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n        } else {\n          markup += `<li class=\"pagination__btn \">${p}</li>`;\n        }\n      }\n      markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markup += `<li class=\"pagination__btn \">${total}</li>`;\n      markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n    } else {\n      if (page > total - 3) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n        markup += `<li class=\"pagination__btn \">1</li>`;\n        markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = page - 2; p <= total; p = p + 1) {\n          if (p === page) {\n            markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n          } else {\n            markup += `<li class=\"pagination__btn \">${p}</li>`;\n          }\n        }\n        if (total === page) {\n          markup += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROW}</button>`;\n        } else {\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      } else {\n        if (page <= total - 3) {\n          markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n          markup += `<li class=\"pagination__btn \">1</li>`;\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = page - 2; p <= page + 2; p = p + 1) {\n            if (p === page) {\n              markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n            } else {\n              markup += `<li class=\"pagination__btn \">${p}</li>`;\n            }\n          }\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          markup += `<li class=\"pagination__btn \">${total}</li>`;\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      }\n    }\n  }\n  pagePag.innerHTML = markup;\n  markup = '';\n}\n\n//очистка\nfunction reseter() {\n  pagePag.innerHTML = '';\n  pageMainContent.innerHTML = '';\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  page = newPage;\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAll() {\n  newApiService.fetchPopularMovies().then(res => {\n    totalAll = res.total_pages;\n\n    totalPage(totalAll);\n  });\n\n  function totalPage() {\n    if (totalAll > 500) {\n      total = 500;\n    } else {\n      total = totalAll;\n    }\n  }\n}\n","import apiServer from './api-servis';\nimport searchRenderBox from '../templates/searchRenger.hbs';\nimport NewApiService from './api-servis';\nconst apiServise = new apiServer();\nconst newApiService = new NewApiService();\n\nconst numberOfGeneras = 4;\nconst refs = {\n  searchForm: document.querySelector('.header__search'),\n  main: document.querySelector('.main-content'),\n  wrongSearchMess: document.querySelector('.wrong-search'),\n};\n\nlet pageS = 1;\nlet totalS = 20;\nlet markupS = '';\nconst LEFT_ARROWS = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROWS = `<svg class=\"pagination__icon-rigth\"></svg>`;\nconst pagePag = document.querySelector('.pagination');\n//const pageMainContent = document.querySelector('.main-content');\n\nrefs.searchForm.addEventListener('submit', onClickSubmit);\n\nfunction onClickSubmit(e) {\n  e.preventDefault();\n  onInputForm(e);\n  totalAllS();\n  reseterS();\n  renderPaginationS(pageS, totalS);\n  addListenerS();\n  switchArrowS();\n}\n\nfunction onInputForm(e) {\n  apiServise.query = e.currentTarget.elements.search.value;\n  ganreListProcessin().then(createCards);\n}\n\nasync function ganreListProcessin() {\n  let comparisonList = JSON.parse(localStorage.getItem('ganre-List'));\n  try {\n    if (!localStorage.getItem('ganre-List')) {\n      const ganres = await apiServise.fetchGenresMovies();\n      comparisonList = ganres;\n      const localStorageJson = JSON.stringify(ganres);\n      localStorage.setItem('ganre-List', localStorageJson);\n    }\n  } catch (error) {\n    console.log('ganreListProcessin', error);\n  }\n  return comparisonList;\n}\n\n//відбудова карток\nasync function createCards(genresBase) {\n  try {\n    await apiServise.fetchSearchMoviesPages().then(({ results }) => {\n      refs.wrongSearchMess.classList.add('visually-hidden');\n      if (!results.length) {\n        refs.wrongSearchMess.classList.remove('visually-hidden');\n        return;\n      }\n      const articleStore = results.map(\n        ({ title, release_date, poster_path, genre_ids, id }) => {\n          release_date = release_date.slice(0, 4);\n\n          poster_path = `https://image.tmdb.org/t/p/w500${poster_path}`;\n          const genres = [...genresBase.genres];\n          const genreIds = genre_ids;\n          let genresNames = [];\n          const other = 'Other';\n          for (let i = 0; i < genreIds.length; i++) {\n            const genre = genres.find(g => g.id === genreIds[i]);\n            genresNames.push(genre.name);\n          }\n          let currentGanre = [...genresNames.slice(0, 2), other].join(' ');\n          if (genresNames.length < numberOfGeneras) {\n            currentGanre = [...genresNames].join(' ');\n          }\n          return { title, release_date, currentGanre, poster_path, id };\n        }\n      );\n      const markup = searchRenderBox({ articleStore });\n      refs.main.innerHTML = markup;\n    });\n  } catch (error) {\n    console.log('createCards', error);\n  }\n}\n\n//перемикач по кліку на цифри\nfunction addListenerS() {\n  const liElItemsS = document.querySelectorAll('.pagination__btn');\n  for (const liElItem of liElItemsS) {\n    if (liElItem.classList.contains('pagination__points')) {\n      continue;\n    }\n    liElItem.addEventListener('click', e => {\n      pageNum(liElItem.textContent * 1);\n      apiServise.pageNum = pageS;\n      reseterS();\n      ganreListProcessin(apiServise.query).then(createCards);\n      renderPaginationS(pageS, totalS);\n      addListenerS();\n      switchArrowS();\n    });\n  }\n}\n\n//перемикач по кліку на <>\nfunction switchArrowS() {\n  const jsBtnArrows = document.querySelectorAll('.js-arrow');\n\n  for (const jsBtnArrow of jsBtnArrows) {\n    jsBtnArrow.addEventListener('click', e => {\n      if (jsBtnArrow.classList.contains('pagination__arrow-left')) {\n        pageS = pageS - 1;\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards);\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      }\n\n      if (jsBtnArrow.classList.contains('pagination__arrow-right')) {\n        pageS = pageS + 1;\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards);\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      }\n    });\n  }\n}\n\n//відбудова кнопок\nfunction renderPaginationS() {\n  if (totalS < 6) {\n    if (pageS != 1) {\n      markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n    }\n    for (let p = 1; p <= totalS; p++) {\n      if (p === pageS) {\n        markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n      } else {\n        markupS += `<li class=\"pagination__btn \">${p}</li>`;\n      }\n    }\n  } else {\n    if (pageS < 4) {\n      if (pageS != 1) {\n        markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n      }\n      for (let p = 1; p <= pageS + 2; p++) {\n        if (p === pageS) {\n          markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n        } else {\n          markupS += `<li class=\"pagination__btn \">${p}</li>`;\n        }\n      }\n      markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n      markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n    } else {\n      if (pageS > totalS - 3) {\n        markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n        markupS += `<li class=\"pagination__btn \">1</li>`;\n        markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = pageS - 2; p <= totalS; p = p + 1) {\n          if (p === pageS) {\n            markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n          } else {\n            markupS += `<li class=\"pagination__btn \">${p}</li>`;\n          }\n        }\n        if (totalS === pageS) {\n          markupS += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROWS}</button>`;\n        } else {\n          markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n        }\n      } else {\n        if (pageS <= totalS - 3) {\n          markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n          markupS += `<li class=\"pagination__btn \">1</li>`;\n          markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = pageS - 2; p <= pageS + 2; p = p + 1) {\n            if (p === pageS) {\n              markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n            } else {\n              markupS += `<li class=\"pagination__btn \">${p}</li>`;\n            }\n          }\n          markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n          markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n        }\n      }\n    }\n  }\n  pagePag.innerHTML = markupS;\n  markupS = '';\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  pageS = newPage;\n}\n\n//очистка\nfunction reseterS() {\n  pagePag.innerHTML = '';\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAllS() {\n  apiServise.fetchSearchMoviesPages(apiServise.query).then(res => {\n    totalAllS = res.total_pages;\n    totalPageS(totalAllS);\n  });\n\n  function totalPageS() {\n    if (totalAllS > 500) {\n      totalS = 500;\n    } else {\n      totalS = totalAllS;\n    }\n  }\n}\n","function backToTop() {\n  let button = document.querySelector('.back-to-top');\n\n  window.addEventListener('scroll', () => {\n    const scrollY = window.scrollY || document.documentElement.scrollTop;\n    if (scrollY >= 300) {\n      button.classList.remove('btn-up_hide');\n    } else {\n      button.classList.add('btn-up_hide');\n    }\n  });\n\n  button.addEventListener('click', e => {\n    e.preventDefault();\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n}\nbackToTop();\n"],"names":["parcelRequire","$gh9Wa","$1bab9c519cfa82bc$var$newApiService","$fgrH9","default","$1bab9c519cfa82bc$var$page","$1bab9c519cfa82bc$var$total","$1bab9c519cfa82bc$var$markup","$1bab9c519cfa82bc$var$pagePag","document","querySelector","$1bab9c519cfa82bc$var$pageMainContent","$1bab9c519cfa82bc$var$addListener","liElItems","querySelectorAll","liElItem","classList","contains","addEventListener","e","newPage","textContent","pageNum","$1bab9c519cfa82bc$var$reseter","$lxQoS","ganreListProcessin","then","$1bab9c519cfa82bc$var$fetchData","$1bab9c519cfa82bc$var$renderPagination","$1bab9c519cfa82bc$var$switchArrow","jsBtnArrows","jsBtnArrow","async","genresBase","fetchPopularMovies","results","mk","map","poster_path","original_title","genre_ids","release_date","id","date","slice","console","log","genres","genreIds","genresNames","i","length","genre","find","g","push","name","currentGanre","numberOfGeneras","join","marKup","innerHTML","error","p","$1bab9c519cfa82bc$var$totalAll","res","total_pages","$9700784ebf227999$var$apiServise","$9700784ebf227999$var$refs","searchForm","main","wrongSearchMess","$9700784ebf227999$var$pageS","$9700784ebf227999$var$totalS","$9700784ebf227999$var$markupS","$9700784ebf227999$var$pagePag","$9700784ebf227999$var$ganreListProcessin","comparisonList","JSON","parse","localStorage","getItem","ganres","fetchGenresMovies","localStorageJson","stringify","setItem","$9700784ebf227999$var$createCards","fetchSearchMoviesPages","add","remove","articleStore","title","markup","$5BiId","$9700784ebf227999$var$addListenerS","liElItemsS","$9700784ebf227999$var$reseterS","query","$9700784ebf227999$var$renderPaginationS","$9700784ebf227999$var$switchArrowS","$9700784ebf227999$var$totalAllS","preventDefault","currentTarget","elements","search","value","$9700784ebf227999$var$onInputForm","button","window","scrollY","documentElement","scrollTop","scrollTo","top","left","behavior","$847794d47e5d1621$var$backToTop"],"version":3,"file":"index.af34197b.js.map"}