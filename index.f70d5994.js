function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},o=t.parcelRequired7c6;null==o&&((o=function(n){if(n in a)return a[n].exports;if(n in i){var t=i[n];delete i[n];var o={id:n,exports:{}};return a[n]=o,t.call(o.exports,o,o.exports),o.exports}var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(n,t){i[n]=t},t.parcelRequired7c6=o),o("1VOaQ"),o("lxQoS"),o("lcIK4");var e=n(o("amrNH")).template({1:function(n,t,a,i,o){var e,l=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r="function",c=n.escapeExpression,_=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"<li class='card-item' data-action='"+c(typeof(e=null!=(e=_(a,"id")||(null!=t?_(t,"id"):t))?e:s)===r?e.call(l,{name:"id",hash:{},data:o,loc:{start:{line:2,column:35},end:{line:2,column:41}}}):e)+"'>\n  <div class='card-img'>\n    <img\n      src='https://image.tmdb.org/t/p/w500"+c(typeof(e=null!=(e=_(a,"poster_path")||(null!=t?_(t,"poster_path"):t))?e:s)===r?e.call(l,{name:"poster_path",hash:{},data:o,loc:{start:{line:5,column:42},end:{line:5,column:57}}}):e)+"'\n      class='card-img-top'\n      alt='"+c(typeof(e=null!=(e=_(a,"original_title")||(null!=t?_(t,"original_title"):t))?e:s)===r?e.call(l,{name:"original_title",hash:{},data:o,loc:{start:{line:7,column:11},end:{line:7,column:29}}}):e)+"'\n    />\n  </div>\n  <div class='card-body'>\n    <p class='card-title'>"+c(typeof(e=null!=(e=_(a,"original_title")||(null!=t?_(t,"original_title"):t))?e:s)===r?e.call(l,{name:"original_title",hash:{},data:o,loc:{start:{line:11,column:26},end:{line:11,column:44}}}):e)+"</p>\n    <p class='card-text'>"+c(typeof(e=null!=(e=_(a,"currentGanre")||(null!=t?_(t,"currentGanre"):t))?e:s)===r?e.call(l,{name:"currentGanre",hash:{},data:o,loc:{start:{line:12,column:25},end:{line:12,column:41}}}):e)+" | "+c(typeof(e=null!=(e=_(a,"date")||(null!=t?_(t,"date"):t))?e:s)===r?e.call(l,{name:"date",hash:{},data:o,loc:{start:{line:12,column:44},end:{line:12,column:52}}}):e)+"</p>\n  </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,t,a,i,o){var e,l=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(e=l(a,"each").call(null!=t?t:n.nullContext||{},null!=t?l(t,"mk"):t,{name:"each",hash:{},fn:n.program(1,o,0),inverse:n.noop,data:o,loc:{start:{line:1,column:0},end:{line:15,column:9}}}))?e:""},useData:!0}),l=o("fgrH9"),s=o("lxQoS");const r=new(0,l.default);let c=1,_=20,g="";const p=document.querySelector(".pagination"),u=document.querySelector(".main-content");function d(){const n=document.querySelectorAll(".pagination__btn");for(const t of n)t.classList.contains("pagination__points")||t.addEventListener("click",(n=>{var a;a=1*t.textContent,c=a,r.pageNum=c,m(),(0,s.ganreListProcessin)().then(h),b(),d(),f()}))}function f(){const n=document.querySelectorAll(".js-arrow");for(const t of n)t.addEventListener("click",(n=>{t.classList.contains("pagination__arrow-left")&&(c-=1,r.pageNum=c,m(),(0,s.ganreListProcessin)().then(h),b(),f(),d()),t.classList.contains("pagination__arrow-right")&&(c+=1,r.pageNum=c,m(),(0,s.ganreListProcessin)().then(h),b(),f(),d())}))}async function h(n){try{await r.fetchPopularMovies().then((({results:t})=>{const a=t.map((({poster_path:t,original_title:a,genre_ids:i,release_date:o,id:e})=>{const l=o.slice(0,4);console.log(l);const r=[...n.genres],c=i;let _=[];for(let n=0;n<c.length;n++){const t=r.find((t=>t.id===c[n]));_.push(t.name)}let g=null;return g=_.length<s.numberOfGeneras?_.join(",  "):[..._.slice(0,2),"Other"].join(", "),{poster_path:t,original_title:a,currentGanre:g,date:l,id:e}})),i=e({mk:a});u.innerHTML=i}))}catch(n){console.error("Помилка під час отримання даних:",n)}}function b(){if(_<6){1!=c&&(g+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=_;n++)console.log(_),g+=n===c?`<li class="pagination__btn pagination__btn-active ">${c}</li>`:`<li class="pagination__btn ">${n}</li>`}else if(c<4){1!=c&&(g+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=c+2;n++)g+=n===c?`<li class="pagination__btn pagination__btn-active ">${c}</li>`:`<li class="pagination__btn ">${n}</li>`;g+='<li class="pagination__btn pagination__points">...</li>',g+=`<li class="pagination__btn ">${_}</li>`,g+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(c>_-3){g+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',g+='<li class="pagination__btn ">1</li>',g+='<li class="pagination__btn pagination__points">...</li>';for(let n=c-2;n<=_;n+=1)g+=n===c?`<li class="pagination__btn pagination__btn-active ">${c}</li>`:`<li class="pagination__btn ">${n}</li>`;g+=_===c?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden"><svg class="pagination__icon-rigth"></svg></button>':'<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(c<=_-3){g+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',g+='<li class="pagination__btn ">1</li>',g+='<li class="pagination__btn pagination__points">...</li>';for(let n=c-2;n<=c+2;n+=1)g+=n===c?`<li class="pagination__btn pagination__btn-active ">${c}</li>`:`<li class="pagination__btn ">${n}</li>`;g+='<li class="pagination__btn pagination__points">...</li>',g+=`<li class="pagination__btn ">${_}</li>`,g+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}p.innerHTML=g,g=""}function m(){p.innerHTML="",u.innerHTML=""}function v(){r.fetchPopularMovies().then((n=>{v=n.total_pages,_=v>500?500:v}))}v(),(0,s.ganreListProcessin)().then(h),b(),d(),f();l=o("fgrH9");var w=o("5BiId");const y=new(0,(l=o("fgrH9")).default),L=(new(0,l.default),{searchForm:document.querySelector(".header__search"),main:document.querySelector(".main-content"),wrongSearchMess:document.querySelector(".wrong-search")});let j=1,S=20,$="";const q=document.querySelector(".pagination");async function M(){let n=JSON.parse(localStorage.getItem("ganre-List"));try{if(!localStorage.getItem("ganre-List")){const t=await y.fetchGenresMovies();n=t;const a=JSON.stringify(t);localStorage.setItem("ganre-List",a)}}catch(n){console.log("ganreListProcessin",n)}return n}async function x(n){try{await y.fetchSearchMoviesPages().then((({results:t})=>{if(L.wrongSearchMess.classList.add("visually-hidden"),!t.length)return void L.wrongSearchMess.classList.remove("visually-hidden");const a=t.map((({title:t,release_date:a,poster_path:i,genre_ids:o,id:e})=>{a=a.slice(0,4),i=`https://image.tmdb.org/t/p/w500${i}`;const l=[...n.genres],s=o;let r=[];for(let n=0;n<s.length;n++){const t=l.find((t=>t.id===s[n]));r.push(t.name)}let c=[...r.slice(0,2),"Other"].join(" ");return r.length<4&&(c=[...r].join(" ")),{title:t,release_date:a,currentGanre:c,poster_path:i,id:e}})),i=(0,w.default)({articleStore:a});L.main.innerHTML=i}))}catch(n){console.log("createCards",n)}}function O(){const n=document.querySelectorAll(".pagination__btn");for(const t of n)t.classList.contains("pagination__points")||t.addEventListener("click",(n=>{var a;a=1*t.textContent,j=a,y.pageNum=j,k(),M(y.query).then(x),T(),O(),P()}))}function P(){const n=document.querySelectorAll(".js-arrow");for(const t of n)t.addEventListener("click",(n=>{t.classList.contains("pagination__arrow-left")&&(j-=1,y.pageNum=j,k(),M(y.query).then(x),T(),P(),O()),t.classList.contains("pagination__arrow-right")&&(j+=1,y.pageNum=j,k(),M(y.query).then(x),T(),P(),O())}))}function T(){if(S<6){1!=j&&($+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=S;n++)$+=n===j?`<li class="pagination__btn pagination__btn-active ">${j}</li>`:`<li class="pagination__btn ">${n}</li>`}else if(j<4){1!=j&&($+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=j+2;n++)$+=n===j?`<li class="pagination__btn pagination__btn-active ">${j}</li>`:`<li class="pagination__btn ">${n}</li>`;$+='<li class="pagination__btn pagination__points">...</li>',$+=`<li class="pagination__btn ">${S}</li>`,$+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(j>S-3){$+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',$+='<li class="pagination__btn ">1</li>',$+='<li class="pagination__btn pagination__points">...</li>';for(let n=j-2;n<=S;n+=1)$+=n===j?`<li class="pagination__btn pagination__btn-active ">${j}</li>`:`<li class="pagination__btn ">${n}</li>`;$+=S===j?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden"><svg class="pagination__icon-rigth"></svg></button>':'<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(j<=S-3){$+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',$+='<li class="pagination__btn ">1</li>',$+='<li class="pagination__btn pagination__points">...</li>';for(let n=j-2;n<=j+2;n+=1)$+=n===j?`<li class="pagination__btn pagination__btn-active ">${j}</li>`:`<li class="pagination__btn ">${n}</li>`;$+='<li class="pagination__btn pagination__points">...</li>',$+=`<li class="pagination__btn ">${S}</li>`,$+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}q.innerHTML=$,$=""}function k(){q.innerHTML=""}function E(){y.fetchSearchMoviesPages(y.query).then((n=>{E=n.total_pages,S=E>500?500:E}))}L.searchForm.addEventListener("submit",(function(n){n.preventDefault(),function(n){y.query=n.currentTarget.elements.search.value,M().then(x)}(n),E(),k(),T(),O(),P()})),function(){let n=document.querySelector(".back-to-top");window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>=300?n.classList.remove("btn-up_hide"):n.classList.add("btn-up_hide")})),n.addEventListener("click",(n=>{n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.f70d5994.js.map
