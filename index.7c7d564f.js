!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},e=t.parcelRequired7c6;null==e&&((e=function(n){if(n in a)return a[n].exports;if(n in i){var t=i[n];delete i[n];var e={id:n,exports:{}};return a[n]=e,t.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){i[n]=t},t.parcelRequired7c6=e),e("dsadE"),e("9BNc1"),e("1RG4E");var o=e("bpxeT"),r=e("8nrFW"),c=e("2TvXO"),s=e("drCPS"),l=e("igxJ3"),u=e("9BNc1"),_=new(0,l.default),p=1,g=20,f="",d='<svg class="pagination__icon-left"></svg>',b='<svg class="pagination__icon-rigth"></svg>',v=document.querySelector(".pagination"),h=document.querySelector(".main-content");function w(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,p=t,_.pageNum=p,x(),(0,u.ganreListProcessin)().then(y),S(),w(),m()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function m(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(p-=1,_.pageNum=p,x(),(0,u.ganreListProcessin)().then(y),S(),m(),w()),a.classList.contains("pagination__arrow-right")&&(p+=1,_.pageNum=p,x(),(0,u.ganreListProcessin)().then(y),S(),m(),w())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function y(n){return L.apply(this,arguments)}function L(){return(L=n(o)(n(c).mark((function t(a){return n(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.fetchPopularMovies().then((function(t){var i=t.results.map((function(t){var i=function(n){var t=p.find((function(t){return t.id===g[n]}));f.push(t.name)},e=t.poster_path,o=t.original_title,c=t.genre_ids,s=t.release_date,l=t.id,_=s.slice(0,4);console.log(_);for(var p=n(r)(a.genres),g=c,f=[],d=0;d<g.length;d++)i(d);return{poster_path:e,original_title:o,currentGanre:f.length<u.numberOfGeneras?f.join(",  "):n(r)(f.slice(0,2)).concat(["Other"]).join(", "),date:_,id:l}})),e=(0,s.default)({mk:i});h.innerHTML=e}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Помилка під час отримання даних:",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function S(){if(g<6){1!=p&&(f+='<button class="pagination__arrow-left js-arrow">'.concat(d,"</button>"));for(var n=1;n<=g;n++)console.log(g),f+=n===p?'<li class="pagination__btn pagination__btn-active ">'.concat(p,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(p<4){1!=p&&(f+='<button class="pagination__arrow-left js-arrow">'.concat(d,"</button>"));for(var t=1;t<=p+2;t++)f+=t===p?'<li class="pagination__btn pagination__btn-active ">'.concat(p,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");f+='<li class="pagination__btn pagination__points">...</li>',f+='<li class="pagination__btn ">'.concat(g,"</li>"),f+='<button class="pagination__arrow-right js-arrow">'.concat(b,"</button>")}else if(p>g-3){f+='<button class="pagination__arrow-left js-arrow">'.concat(d,"</button>"),f+='<li class="pagination__btn ">1</li>',f+='<li class="pagination__btn pagination__points">...</li>';for(var a=p-2;a<=g;a+=1)f+=a===p?'<li class="pagination__btn pagination__btn-active ">'.concat(p,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");f+=g===p?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(b,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(b,"</button>")}else if(p<=g-3){f+='<button class="pagination__arrow-left js-arrow">'.concat(d,"</button>"),f+='<li class="pagination__btn ">1</li>',f+='<li class="pagination__btn pagination__points">...</li>';for(var i=p-2;i<=p+2;i+=1)f+=i===p?'<li class="pagination__btn pagination__btn-active ">'.concat(p,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");f+='<li class="pagination__btn pagination__points">...</li>',f+='<li class="pagination__btn ">'.concat(g,"</li>"),f+='<button class="pagination__arrow-right js-arrow">'.concat(b,"</button>")}v.innerHTML=f,f=""}function x(){v.innerHTML="",h.innerHTML=""}function j(){_.fetchPopularMovies().then((function(n){j=n.total_pages,g=j>500?500:j}))}j(),(0,u.ganreListProcessin)().then(y),S(),w(),m();o=e("bpxeT"),r=e("8nrFW"),c=e("2TvXO"),l=e("igxJ3");var q,M=e("4p7m4"),T=new(0,(l=e("igxJ3")).default),k=(new(0,l.default),{searchForm:document.querySelector(".header__search"),main:document.querySelector(".main-content"),wrongSearchMess:document.querySelector(".wrong-search")}),E=1,N=20,O="",P='<svg class="pagination__icon-left"></svg>',H='<svg class="pagination__icon-rigth"></svg>',C=document.querySelector(".pagination");function F(){return G.apply(this,arguments)}function G(){return(G=n(o)(n(c).mark((function t(){var a,i,e;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=JSON.parse(localStorage.getItem("ganre-List")),n.prev=1,localStorage.getItem("ganre-List")){n.next=9;break}return n.next=5,T.fetchGenresMovies();case 5:i=n.sent,a=i,e=JSON.stringify(i),localStorage.setItem("ganre-List",e);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("ganreListProcessin",n.t0);case 14:return n.abrupt("return",a);case 15:case"end":return n.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function J(n){return A.apply(this,arguments)}function A(){return(A=n(o)(n(c).mark((function t(a){return n(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.fetchSearchMoviesPages().then((function(t){var i=t.results;if(k.wrongSearchMess.classList.add("visually-hidden"),i.length){var e=i.map((function(t){var i=function(n){var t=u.find((function(t){return t.id===_[n]}));p.push(t.name)},e=t.title,o=t.release_date,c=t.poster_path,s=t.genre_ids,l=t.id;o=o.slice(0,4),c="https://image.tmdb.org/t/p/w500".concat(c);for(var u=n(r)(a.genres),_=s,p=[],g=0;g<_.length;g++)i(g);var f=n(r)(p.slice(0,2)).concat(["Other"]).join(" ");return p.length<4&&(f=n(r)(p).join(" ")),{title:e,release_date:o,currentGanre:f,poster_path:c,id:l}})),o=(0,M.default)({articleStore:e});k.main.innerHTML=o}else k.wrongSearchMess.classList.remove("visually-hidden")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("createCards",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function D(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,E=t,T.pageNum=E,B(),F(T.query).then(J),R(),D(),I()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function I(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(E-=1,T.pageNum=E,B(),F(T.query).then(J),R(),I(),D()),a.classList.contains("pagination__arrow-right")&&(E+=1,T.pageNum=E,B(),F(T.query).then(J),R(),I(),D())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function R(){if(N<6){1!=E&&(O+='<button class="pagination__arrow-left js-arrow">'.concat(P,"</button>"));for(var n=1;n<=N;n++)O+=n===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(E<4){1!=E&&(O+='<button class="pagination__arrow-left js-arrow">'.concat(P,"</button>"));for(var t=1;t<=E+2;t++)O+=t===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");O+='<li class="pagination__btn pagination__points">...</li>',O+='<li class="pagination__btn ">'.concat(N,"</li>"),O+='<button class="pagination__arrow-right js-arrow">'.concat(H,"</button>")}else if(E>N-3){O+='<button class="pagination__arrow-left js-arrow">'.concat(P,"</button>"),O+='<li class="pagination__btn ">1</li>',O+='<li class="pagination__btn pagination__points">...</li>';for(var a=E-2;a<=N;a+=1)O+=a===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");O+=N===E?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(H,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(H,"</button>")}else if(E<=N-3){O+='<button class="pagination__arrow-left js-arrow">'.concat(P,"</button>"),O+='<li class="pagination__btn ">1</li>',O+='<li class="pagination__btn pagination__points">...</li>';for(var i=E-2;i<=E+2;i+=1)O+=i===E?'<li class="pagination__btn pagination__btn-active ">'.concat(E,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");O+='<li class="pagination__btn pagination__points">...</li>',O+='<li class="pagination__btn ">'.concat(N,"</li>"),O+='<button class="pagination__arrow-right js-arrow">'.concat(H,"</button>")}C.innerHTML=O,O=""}function B(){C.innerHTML=""}function U(){T.fetchSearchMoviesPages(T.query).then((function(n){U=n.total_pages,N=U>500?500:U}))}k.searchForm.addEventListener("submit",(function(n){n.preventDefault(),function(n){T.query=n.currentTarget.elements.search.value,F().then(J)}(n),U(),B(),R(),D(),I()})),q=document.querySelector(".back-to-top"),window.addEventListener("scroll",(function(){(window.scrollY||document.documentElement.scrollTop)>=300?q.classList.remove("btn-up_hide"):q.classList.add("btn-up_hide")})),q.addEventListener("click",(function(n){n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.7c7d564f.js.map
