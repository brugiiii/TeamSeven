{"mappings":"oeAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,oDAQA,MAAME,EAAY,IAAI,EAAAD,EAAAE,SAEhBC,EAAO,CACXC,WAAYC,SAASC,cAAc,yBACnCC,SAAUF,SAASC,cAAc,yBAGnC,EAAAE,EAAAC,sBAAqBC,MAiBrBC,eAAyBC,GACvB,IACEX,EAAUY,mBACJ,IAAIC,SAAQC,GAAWC,WAAWD,EAAS,OAEjD,MAAME,GAAU,EAAAC,EAAAC,MAAKD,EAAAE,YAAYC,UAAY,GACvCC,EAAYjB,SAASC,cAAc,iBACzCgB,EAAUC,UAAY,GAEtBN,EAAQO,KAAIC,IACV,MAAMC,YAAEA,EAAWC,eAAEA,EAAcC,OAAEA,EAAMC,aAAEA,EAAYC,GAAEA,GACzDL,EACIM,EAAOF,EAAaG,MAAM,EAAG,GAE7BC,EAAc,IAAIrB,EAAWgB,QAC7BM,EAAWN,EACjB,IAAIO,EAAc,GAElB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAASG,OAAQD,IAAK,CACxC,MAAME,EAAQL,EAAYM,MAAKC,GAAKA,EAAEV,KAAOI,EAASE,GAAGN,KACzDK,EAAYM,KAAKH,EAAMI,K,CAEzB,IAAIC,EAAe,IAAIR,EAAYH,MAAM,EAAG,GAL9B,SAKyCY,KAAK,MACxDT,EAAYE,OAAS7B,EAAAqC,kBACvBF,EAAe,IAAIR,GAAaS,KAAK,OAGvC,MAAME,GAAK,EAAAC,EAAA7C,SAAa,C,YACtBwB,E,eACAC,E,aACAgB,E,KACAZ,E,GACAD,IAGFR,EAAU0B,mBAAmB,YAAaF,EAAG,IAG/C7C,EAAUgD,Y,CACV,MAAOC,GACPC,QAAQD,MAAM,mCAAoCA,E,KAvDtD/C,EAAKC,WAAWgD,iBAAiB,SAASC,IACxClD,EAAKC,WAAWkD,UAAUC,IAAI,aAC9BpD,EAAKI,SAAS+C,UAAUE,OAAO,aAC/BC,EAAAC,wBAA6C,IAG/CvD,EAAKI,SAAS6C,iBAAiB,SAASC,IACtClD,EAAKI,SAAS+C,UAAUC,IAAI,aAC5BpD,EAAKC,WAAWkD,UAAUE,OAAO,aACjCC,EAAAE,sBAA2C","sources":["src/js/library.js","src/js/actionLibrary.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './cardModal';\nimport './actionLibrary';","import NewLoader from './loader';\nimport * as renderingFromStorage from './renderFromStorage';\nimport { load, storageKeys } from './localStorage';\n\nimport cardTemplate from '../templates/cardTemplateLibrary.hbs';\n\nimport { numberOfGeneras, ganreListProcessin } from './searchByKeyword';\n\nconst newLoader = new NewLoader();\n\nconst refs = {\n  btnWatched: document.querySelector('.library__btn-watched'),\n  btnQueue: document.querySelector('.library__btn-queue'),\n};\n\nganreListProcessin().then(fetchData);\n\nrefs.btnWatched.addEventListener('click', evt => {\n  refs.btnWatched.classList.add('is-active');\n  refs.btnQueue.classList.remove('is-active');\n  renderingFromStorage.loadFromStorageWatched();\n});\n\nrefs.btnQueue.addEventListener('click', evt => {\n  refs.btnQueue.classList.add('is-active');\n  refs.btnWatched.classList.remove('is-active');\n  renderingFromStorage.loadFromStorageQueue();\n});\n//refs.btnWatched.addEventListener('click', renderingFromStorage.loadFromStorageWatched);\n//refs.btnQueue.addEventListener('click', renderingFromStorage.loadFromStorageQueue);\n\n\nasync function fetchData(genresBase) {\n  try {\n    newLoader.showLoader();\n    await new Promise(resolve => setTimeout(resolve, 300));\n\n    const results = load(storageKeys.WATCHED) || [];\n    const container = document.querySelector('.main-content');\n    container.innerHTML = '';\n\n    results.map(result => { \n      const { poster_path, original_title, genres, release_date, id } =\n        result;\n      const date = release_date.slice(0, 4);\n\n      const genresArray = [...genresBase.genres];\n      const genreIds = genres;\n      let genresNames = [];\n      const other = 'Other';\n      for (let i = 0; i < genreIds.length; i++) {\n        const genre = genresArray.find(g => g.id === genreIds[i].id); \n        genresNames.push(genre.name);\n      } \n      let currentGanre = [...genresNames.slice(0, 2), other].join(', ');\n      if (genresNames.length < numberOfGeneras) {\n        currentGanre = [...genresNames].join(', ');\n      }\n\n      const mk = cardTemplate({\n        poster_path,\n        original_title,\n        currentGanre,\n        date,\n        id,\n      });\n\n      container.insertAdjacentHTML('beforeend', mk);\n    });\n   \n    newLoader.hideLoader();\n  } catch (error) {\n    console.error('Помилка під час отримання даних:', error);\n  }\n}"],"names":["parcelRequire","$gjiCh","$89cf66516cb8e2b8$var$newLoader","default","$89cf66516cb8e2b8$var$refs","btnWatched","document","querySelector","btnQueue","$lxQoS","ganreListProcessin","then","async","genresBase","showLoader","Promise","resolve","setTimeout","results","$31u3U","load","storageKeys","WATCHED","container","innerHTML","map","result","poster_path","original_title","genres","release_date","id","date","slice","genresArray","genreIds","genresNames","i","length","genre","find","g","push","name","currentGanre","join","numberOfGeneras","mk","$4qhay","insertAdjacentHTML","hideLoader","error","console","addEventListener","evt","classList","add","remove","$7bRQz","loadFromStorageWatched","loadFromStorageQueue"],"version":3,"file":"library.bf38709e.js.map"}