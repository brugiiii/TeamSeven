{"mappings":"oeAAAA,EAAA,S,sBCAO,MAAMC,EAAO,CAClBC,gBAAiBC,SAASC,cAAc,0BACxCC,cAAeF,SAASC,cAAc,4BAEtCE,WAAYH,SAASC,cAAc,yBACnCG,SAAUJ,SAASC,cAAc,wBCLtBI,EAAc,CACzBC,QAAS,UACTC,MAAO,SAYIC,EAAOC,IAClB,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,oBCL7C,SAASC,EAAoBC,GAC3B,MAAMC,EAAYrB,SAASC,cAAc,iBACzCoB,EAAUC,UAAY,GACtBF,EAAQG,KAAIC,IACV,MAAMC,YAAEA,EAAWC,eAAEA,EAAcC,UAAEA,EAASC,aAAEA,EAAYC,GAAEA,GAAOL,EAC/DM,EAASH,EACTI,EAAOH,EAAaI,MAAM,EAAG,GAE7BC,GAAK,EAAAC,EAAAC,SAAa,C,YAAEV,E,eAAaC,E,OAAgBI,E,KAAQC,E,GAAMF,IAErER,EAAUe,mBAAmB,YAAaH,EAAG,G,CCpBjDnC,EAAKK,WAAWkC,iBAAiB,SDAK,KAEpClB,EADgBX,EAAKH,EAAYC,SACL,ICD9BR,EAAKM,SAASiC,iBAAiB,SDIK,KAElClB,EADgBX,EAAKH,EAAYE,OACL","sources":["src/js/library.js","src/js/refs.js","src/js/localStorage.js","src/js/renderFromStorage.js","src/js/actionLibrary.js"],"sourcesContent":["import './teamModal';\n\nimport './searchByKeyword';\n\nimport './cardModal';\n\nimport './actionLibrary';\n","export const refs = {\n  addToWatchedBtn: document.querySelector('.modal-button__primary'),\n  addToQueueBtn: document.querySelector('.modal-button__secondary'),\n  \n  btnWatched: document.querySelector('.library__btn-watched'),\n  btnQueue: document.querySelector('.library__btn-queue'),\n};\n  ","export const storageKeys = {\n  WATCHED: 'watched',\n  QUEUE: 'queue',\n};\n\nexport const save = (key, value) => { \n  try { \n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set items error: ', error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\n// export const remove = key => {\n//   try {\n//     localStorage.removeItem(key);\n//   } catch (error) {\n//     console.error('Remove state error: ', error.message);\n//   }\n// };\n","import { load, storageKeys } from './localStorage';\nimport cardTemplate from '../templates/cardTemplate.hbs';\n\n\nexport const loadFromStorageWatched = () => {\n  const results = load(storageKeys.WATCHED);\n  updateMarkupLibrary(results);\n};\n\nexport const loadFromStorageQueue = () => {\n  const results = load(storageKeys.QUEUE);\n  updateMarkupLibrary(results);\n};\n\nfunction updateMarkupLibrary(results){\n  const container = document.querySelector('.main-content');\n  container.innerHTML = '';\n  results.map(result => {\n    const { poster_path, original_title, genre_ids, release_date, id } = result;\n    const genres = genre_ids;//.join(', ');\n    const date = release_date.slice(0, 4);\n\n    const mk = cardTemplate({ poster_path, original_title, genres, date, id });\n\n    container.insertAdjacentHTML('beforeend', mk);\n  });\n}","import { refs } from './refs';\nimport * as renderingFromStorage from './renderFromStorage';\n\n\nrefs.btnWatched.addEventListener('click', renderingFromStorage.loadFromStorageWatched);\nrefs.btnQueue.addEventListener('click', renderingFromStorage.loadFromStorageQueue);"],"names":["parcelRequire","$ee27a4d7c64fc8c4$export$21666b427502ea6d","addToWatchedBtn","document","querySelector","addToQueueBtn","btnWatched","btnQueue","$2338c8cd734f85a6$export$4a127c3d87b83db7","WATCHED","QUEUE","$2338c8cd734f85a6$export$11e63f7b0f3d9900","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$53c35457adeaebb5$var$updateMarkupLibrary","results","container","innerHTML","map","result","poster_path","original_title","genre_ids","release_date","id","genres","date","slice","mk","$gh9Wa","default","insertAdjacentHTML","addEventListener"],"version":3,"file":"library.f1c2a99b.js.map"}