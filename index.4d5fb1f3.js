var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},a=n.parcelRequired7c6;null==a&&((a=function(n){if(n in t)return t[n].exports;if(n in i){var a=i[n];delete i[n];var o={id:n,exports:{}};return t[n]=o,a.call(o.exports,o,o.exports),o.exports}var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(n,t){i[n]=t},n.parcelRequired7c6=a),a("1VOaQ"),a("lxQoS"),a("5BiId");var o=a("fgrH9"),e=a("lxQoS"),s=a("gjiCh");document.querySelector(".main-content");const l=new(0,o.default),r=new(0,s.default);(0,e.ganreListProcessin)().then((async function(n){try{r.showLoader(),await new Promise((n=>setTimeout(n,300))),await l.fetchPopularMovies().then((({results:t})=>{(0,e.renderOnScreen)(t,n)})),r.hideLoader()}catch(n){console.error("Помилка під час отримання даних:",n)}})),a("lcIK4");var c=a("gh9Wa");const _=new(0,(o=a("fgrH9")).default);let g=1,p=20,u="";const f=document.querySelector(".pagination"),d=document.querySelector(".main-content");function b(){const n=document.querySelectorAll(".pagination__btn");for(const t of n)t.classList.contains("pagination__points")||t.addEventListener("click",(n=>{var i;i=1*t.textContent,g=i,_.pageNum=g,m(),v(),w(),b(),h()}))}function h(){const n=document.querySelectorAll(".js-arrow");for(const t of n)t.addEventListener("click",(n=>{t.classList.contains("pagination__arrow-left")&&(g-=1,_.pageNum=g,m(),v(),w(),h(),b()),t.classList.contains("pagination__arrow-right")&&(g+=1,_.pageNum=g,m(),v(),w(),h(),b())}))}function v(){document.querySelector(".main-content");_.fetchPopularMovies().then((({results:n})=>{n.map((n=>{const{poster_path:t,original_title:i,genre_ids:a,release_date:o,id:e}=n,s=a.join(", "),l=o.slice(0,4),r=(0,c.default)({poster_path:t,original_title:i,genres:s,date:l,id:e});document.querySelector(".main-content").insertAdjacentHTML("beforeend",r)}))}))}function w(){if(p<6){1!=g&&(u+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=p;n++)console.log(p),u+=n===g?`<li class="pagination__btn pagination__btn-active ">${g}</li>`:`<li class="pagination__btn ">${n}</li>`}else if(g<4){1!=g&&(u+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=g+2;n++)u+=n===g?`<li class="pagination__btn pagination__btn-active ">${g}</li>`:`<li class="pagination__btn ">${n}</li>`;u+='<li class="pagination__btn pagination__points">...</li>',u+=`<li class="pagination__btn ">${p}</li>`,u+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(g>p-3){u+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',u+='<li class="pagination__btn ">1</li>',u+='<li class="pagination__btn pagination__points">...</li>';for(let n=g-2;n<=p;n+=1)u+=n===g?`<li class="pagination__btn pagination__btn-active ">${g}</li>`:`<li class="pagination__btn ">${n}</li>`;u+=p===g?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden"><svg class="pagination__icon-rigth"></svg></button>':'<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(g<=p-3){u+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',u+='<li class="pagination__btn ">1</li>',u+='<li class="pagination__btn pagination__points">...</li>';for(let n=g-2;n<=g+2;n+=1)u+=n===g?`<li class="pagination__btn pagination__btn-active ">${g}</li>`:`<li class="pagination__btn ">${n}</li>`;u+='<li class="pagination__btn pagination__points">...</li>',u+=`<li class="pagination__btn ">${p}</li>`,u+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}f.innerHTML=u,u=""}function m(){f.innerHTML="",d.innerHTML=""}function y(){_.fetchPopularMovies().then((n=>{y=n.total_pages,p=y>500?500:y}))}y(),v(),w(),b(),h();o=a("fgrH9");var L=a("5BiId");const S=new(0,(o=a("fgrH9")).default),j=(new(0,o.default),{searchForm:document.querySelector(".header__search"),main:document.querySelector(".main-content"),wrongSearchMess:document.querySelector(".wrong-search")});let q=1,$=20,M="";const T=document.querySelector(".pagination");async function H(){let n=JSON.parse(localStorage.getItem("ganre-List"));try{if(!localStorage.getItem("ganre-List")){const t=await S.fetchGenresMovies();n=t;const i=JSON.stringify(t);localStorage.setItem("ganre-List",i)}}catch(n){console.log("ganreListProcessin",n)}return n}async function E(n){try{await S.fetchSearchMoviesPages().then((({results:t})=>{if(j.wrongSearchMess.classList.add("visually-hidden"),!t.length)return void j.wrongSearchMess.classList.remove("visually-hidden");const i=t.map((({title:t,release_date:i,poster_path:a,genre_ids:o,id:e})=>{i=i.slice(0,4),a=`https://image.tmdb.org/t/p/w500${a}`;const s=[...n.genres],l=o;let r=[];for(let n=0;n<l.length;n++){const t=s.find((t=>t.id===l[n]));r.push(t.name)}let c=[...r.slice(0,2),"Other"].join(" ");return r.length<4&&(c=[...r].join(" ")),{title:t,release_date:i,currentGanre:c,poster_path:a,id:e}})),a=(0,L.default)({articleStore:i});j.main.innerHTML=a}))}catch(n){console.log("createCards",n)}}function N(){const n=document.querySelectorAll(".pagination__btn");for(const t of n)t.classList.contains("pagination__points")||t.addEventListener("click",(n=>{var i;i=1*t.textContent,q=i,S.pageNum=q,P(),H(S.query).then(E),O(),N(),x()}))}function x(){const n=document.querySelectorAll(".js-arrow");for(const t of n)t.addEventListener("click",(n=>{t.classList.contains("pagination__arrow-left")&&(q-=1,S.pageNum=q,P(),H(S.query).then(E),O(),x(),N()),t.classList.contains("pagination__arrow-right")&&(q+=1,S.pageNum=q,P(),H(S.query).then(E),O(),x(),N())}))}function O(){if($<6){1!=q&&(M+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=$;n++)M+=n===q?`<li class="pagination__btn pagination__btn-active ">${q}</li>`:`<li class="pagination__btn ">${n}</li>`}else if(q<4){1!=q&&(M+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let n=1;n<=q+2;n++)M+=n===q?`<li class="pagination__btn pagination__btn-active ">${q}</li>`:`<li class="pagination__btn ">${n}</li>`;M+='<li class="pagination__btn pagination__points">...</li>',M+=`<li class="pagination__btn ">${$}</li>`,M+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(q>$-3){M+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',M+='<li class="pagination__btn ">1</li>',M+='<li class="pagination__btn pagination__points">...</li>';for(let n=q-2;n<=$;n+=1)M+=n===q?`<li class="pagination__btn pagination__btn-active ">${q}</li>`:`<li class="pagination__btn ">${n}</li>`;M+=$===q?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden"><svg class="pagination__icon-rigth"></svg></button>':'<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(q<=$-3){M+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',M+='<li class="pagination__btn ">1</li>',M+='<li class="pagination__btn pagination__points">...</li>';for(let n=q-2;n<=q+2;n+=1)M+=n===q?`<li class="pagination__btn pagination__btn-active ">${q}</li>`:`<li class="pagination__btn ">${n}</li>`;M+='<li class="pagination__btn pagination__points">...</li>',M+=`<li class="pagination__btn ">${$}</li>`,M+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}T.innerHTML=M,M=""}function P(){T.innerHTML=""}function k(){S.fetchSearchMoviesPages(S.query).then((n=>{k=n.total_pages,$=k>500?500:k}))}j.searchForm.addEventListener("submit",(function(n){n.preventDefault(),function(n){S.query=n.currentTarget.elements.search.value,H().then(E)}(n),k(),P(),O(),N(),x()})),function(){let n=document.querySelector(".back-to-top");window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>=300?n.classList.remove("btn-up_hide"):n.classList.add("btn-up_hide")})),n.addEventListener("click",(n=>{n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.4d5fb1f3.js.map
