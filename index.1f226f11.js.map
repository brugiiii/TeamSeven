{"mappings":"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","sources":["src/js/index.js","src/js/renderCards.js","src/js/pagination.js","src/js/paginationS.js","src/js/upBtn.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './renderCards';\nimport './cardModal';\nimport './pagination';\nimport './paginationS';\nimport './upBtn';\nimport './renderCards';\n\n","import cardTemplate from '../templates/cardTemplate.hbs'\nimport NewApiService from './api-servis';\nimport { numberOfGeneras, ganreListProcessin } from './searchByKeyword';\nimport NewLoader from './loader';\nconst container = document.querySelector('.main-content');\nconst newApiService = new NewApiService();\nconst newLoader = new NewLoader();\nganreListProcessin().then(fetchData);\n\nasync function fetchData(genresBase) { \n  try { \n    newLoader.showLoader();\n    await new Promise(resolve => setTimeout(resolve, 300));\n    await newApiService.fetchPopularMovies().then(({ results }) => {\n      const mk =  results.map(({ poster_path, original_title, genre_ids, release_date, id }) => {\n       \n         const date = release_date.slice(0, 4);\n         const genres = [...genresBase.genres];\n          const genreIds = genre_ids;\n          let genresNames = [];\n          const other = 'Other';\n\n          for (let i = 0; i < genreIds.length; i++) {\n            const genre = genres.find(g => g.id === genreIds[i]);\n            genresNames.push(genre.name);\n          }\n\n          let currentGanre = null;\n         if (genresNames.length < numberOfGeneras) {\n               currentGanre = genresNames.join(',  ');\n           } else {\n            currentGanre = [...genresNames.slice(0, 2), other].join(', ');\n           }\n        return {poster_path, original_title, currentGanre,date, id};\n       }\n      );\n        const marKup = cardTemplate({mk});\n        container.innerHTML = marKup;\n        newLoader.hideLoader();\n     });\n  } catch (error) {\n    console.error('Помилка під час отримання даних:', error);\n  }\n} \n","//імпорт асинхронної функції феч з отриманням даних з сервера\nimport cardTemplate from '../templates/cardTemplate.hbs';\nimport NewApiService from './api-servis';\nconst newApiService = new NewApiService();\n\nlet page = 1;\nlet total = 20;\nlet markup = '';\nconst LEFT_ARROW = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROW = `<svg class=\"pagination__icon-rigth\"></svg>`;\n\nconst pagePag = document.querySelector('.pagination');\nconst pageMainContent = document.querySelector('.main-content');\n\ntotalAll();\nmainContent();\nrenderPagination(page, total);\naddListener();\nswitchArrow();\n\n//перемикач по кліку на цифри\n\nfunction addListener() {\n  const liElItems = document.querySelectorAll('.pagination__btn');\n\n  for (const liElItem of liElItems) {\n    if (liElItem.classList.contains('pagination__points')) {\n      continue;\n    }\n    liElItem.addEventListener('click', e => {\n      pageNum(liElItem.textContent * 1);\n      newApiService.pageNum = page;\n      reseter();\n      mainContent();\n      renderPagination(page, total);\n\n      addListener();\n      switchArrow();\n    });\n  }\n}\n\n//перемикач по кліку на <>\n\nfunction switchArrow() {\n  const jsBtnArrows = document.querySelectorAll('.js-arrow');\n\n  for (const jsBtnArrow of jsBtnArrows) {\n    jsBtnArrow.addEventListener('click', e => {\n      if (jsBtnArrow.classList.contains('pagination__arrow-left')) {\n        page = page - 1;\n        newApiService.pageNum = page;\n        reseter();\n        mainContent();\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n\n      if (jsBtnArrow.classList.contains('pagination__arrow-right')) {\n        page = page + 1;\n\n        newApiService.pageNum = page;\n        reseter();\n        mainContent();\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n    });\n  }\n}\n\n// відбудова карток\nfunction mainContent() {\n  newApiService.fetchPopularMovies().then(({ results }) => {\n    results.map(result => {\n      const { poster_path, original_title, genre_ids, release_date, id } =\n        result;\n      const genres = genre_ids.join(', ');\n      const date = release_date.slice(0, 4);\n      const mk = cardTemplate({\n        poster_path,\n        original_title,\n        genres,\n        date,\n        id,\n      });\n      const container = document.querySelector('.main-content');\n      container.insertAdjacentHTML('beforeend', mk);\n    });\n  });\n}\n\n//відбудова кнопок\nfunction renderPagination() {\n  if (total < 6) {\n    if (page != 1) {\n      markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n    }\n    for (let p = 1; p <= total; p++) {\n      console.log(total);\n      if (p === page) {\n        markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n      } else {\n        markup += `<li class=\"pagination__btn \">${p}</li>`;\n      }\n    }\n  } else {\n    if (page < 4) {\n      if (page != 1) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n      }\n      for (let p = 1; p <= page + 2; p++) {\n        if (p === page) {\n          markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n        } else {\n          markup += `<li class=\"pagination__btn \">${p}</li>`;\n        }\n      }\n      markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markup += `<li class=\"pagination__btn \">${total}</li>`;\n      markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n    } else {\n      if (page > total - 3) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n        markup += `<li class=\"pagination__btn \">1</li>`;\n        markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = page - 2; p <= total; p = p + 1) {\n          if (p === page) {\n            markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n          } else {\n            markup += `<li class=\"pagination__btn \">${p}</li>`;\n          }\n        }\n        if (total === page) {\n          markup += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROW}</button>`;\n        } else {\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      } else {\n        if (page <= total - 3) {\n          markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n          markup += `<li class=\"pagination__btn \">1</li>`;\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = page - 2; p <= page + 2; p = p + 1) {\n            if (p === page) {\n              markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n            } else {\n              markup += `<li class=\"pagination__btn \">${p}</li>`;\n            }\n          }\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          markup += `<li class=\"pagination__btn \">${total}</li>`;\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      }\n    }\n  }\n  pagePag.innerHTML = markup;\n  markup = '';\n}\n\n//очистка\nfunction reseter() {\n  pagePag.innerHTML = '';\n  pageMainContent.innerHTML = '';\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  page = newPage;\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAll() {\n  newApiService.fetchPopularMovies().then(res => {\n    totalAll = res.total_pages;\n\n    totalPage(totalAll);\n  });\n\n  function totalPage() {\n    if (totalAll > 500) {\n      total = 500;\n    } else {\n      total = totalAll;\n    }\n  }\n}\n","import apiServer from './api-servis';\nimport searchRenderBox from '../templates/searchRenger.hbs';\nimport NewApiService from './api-servis';\nconst apiServise = new apiServer();\nconst newApiService = new NewApiService();\n\nconst numberOfGeneras = 4;\nconst refs = {\n  searchForm: document.querySelector('.header__search'),\n  main: document.querySelector('.main-content'),\n  wrongSearchMess: document.querySelector('.wrong-search'),\n};\n\nlet pageS = 1;\nlet totalS = 20;\nlet markupS = '';\nconst LEFT_ARROWS = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROWS = `<svg class=\"pagination__icon-rigth\"></svg>`;\nconst pagePag = document.querySelector('.pagination');\n//const pageMainContent = document.querySelector('.main-content');\n\nrefs.searchForm.addEventListener('submit', onClickSubmit);\n\nfunction onClickSubmit(e) {\n  e.preventDefault();\n  onInputForm(e);\n  totalAllS();\n  reseterS();\n  renderPaginationS(pageS, totalS);\n  addListenerS();\n  switchArrowS();\n}\n\nfunction onInputForm(e) {\n  apiServise.query = e.currentTarget.elements.search.value;\n  ganreListProcessin().then(createCards);\n}\n\nasync function ganreListProcessin() {\n  let comparisonList = JSON.parse(localStorage.getItem('ganre-List'));\n  try {\n    if (!localStorage.getItem('ganre-List')) {\n      const ganres = await apiServise.fetchGenresMovies();\n      comparisonList = ganres;\n      const localStorageJson = JSON.stringify(ganres);\n      localStorage.setItem('ganre-List', localStorageJson);\n    }\n  } catch (error) {\n    console.log('ganreListProcessin', error);\n  }\n  return comparisonList;\n}\n\n//відбудова карток\nasync function createCards(genresBase) {\n  try {\n    await apiServise.fetchSearchMoviesPages().then(({ results }) => {\n      refs.wrongSearchMess.classList.add('visually-hidden');\n      if (!results.length) {\n        refs.wrongSearchMess.classList.remove('visually-hidden');\n        return;\n      }\n      const articleStore = results.map(\n        ({ title, release_date, poster_path, genre_ids, id }) => {\n          release_date = release_date.slice(0, 4);\n\n          poster_path = `https://image.tmdb.org/t/p/w500${poster_path}`;\n          const genres = [...genresBase.genres];\n          const genreIds = genre_ids;\n          let genresNames = [];\n          const other = 'Other';\n          for (let i = 0; i < genreIds.length; i++) {\n            const genre = genres.find(g => g.id === genreIds[i]);\n            genresNames.push(genre.name);\n          }\n          let currentGanre = [...genresNames.slice(0, 2), other].join(' ');\n          if (genresNames.length < numberOfGeneras) {\n            currentGanre = [...genresNames].join(' ');\n          }\n          return { title, release_date, currentGanre, poster_path, id };\n        }\n      );\n      const markup = searchRenderBox({ articleStore });\n      refs.main.innerHTML = markup;\n    });\n  } catch (error) {\n    console.log('createCards', error);\n  }\n}\n\n//перемикач по кліку на цифри\nfunction addListenerS() {\n  const liElItemsS = document.querySelectorAll('.pagination__btn');\n  for (const liElItem of liElItemsS) {\n    if (liElItem.classList.contains('pagination__points')) {\n      continue;\n    }\n    liElItem.addEventListener('click', e => {\n      pageNum(liElItem.textContent * 1);\n      apiServise.pageNum = pageS;\n      reseterS();\n      ganreListProcessin(apiServise.query).then(createCards);\n      renderPaginationS(pageS, totalS);\n      addListenerS();\n      switchArrowS();\n    });\n  }\n}\n\n//перемикач по кліку на <>\nfunction switchArrowS() {\n  const jsBtnArrows = document.querySelectorAll('.js-arrow');\n\n  for (const jsBtnArrow of jsBtnArrows) {\n    jsBtnArrow.addEventListener('click', e => {\n      if (jsBtnArrow.classList.contains('pagination__arrow-left')) {\n        pageS = pageS - 1;\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards);\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      }\n\n      if (jsBtnArrow.classList.contains('pagination__arrow-right')) {\n        pageS = pageS + 1;\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards);\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      }\n    });\n  }\n}\n\n//відбудова кнопок\nfunction renderPaginationS() {\n  if (totalS < 6) {\n    if (pageS != 1) {\n      markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n    }\n    for (let p = 1; p <= totalS; p++) {\n      if (p === pageS) {\n        markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n      } else {\n        markupS += `<li class=\"pagination__btn \">${p}</li>`;\n      }\n    }\n  } else {\n    if (pageS < 4) {\n      if (pageS != 1) {\n        markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n      }\n      for (let p = 1; p <= pageS + 2; p++) {\n        if (p === pageS) {\n          markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n        } else {\n          markupS += `<li class=\"pagination__btn \">${p}</li>`;\n        }\n      }\n      markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n      markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n    } else {\n      if (pageS > totalS - 3) {\n        markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n        markupS += `<li class=\"pagination__btn \">1</li>`;\n        markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = pageS - 2; p <= totalS; p = p + 1) {\n          if (p === pageS) {\n            markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n          } else {\n            markupS += `<li class=\"pagination__btn \">${p}</li>`;\n          }\n        }\n        if (totalS === pageS) {\n          markupS += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROWS}</button>`;\n        } else {\n          markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n        }\n      } else {\n        if (pageS <= totalS - 3) {\n          markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n          markupS += `<li class=\"pagination__btn \">1</li>`;\n          markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = pageS - 2; p <= pageS + 2; p = p + 1) {\n            if (p === pageS) {\n              markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n            } else {\n              markupS += `<li class=\"pagination__btn \">${p}</li>`;\n            }\n          }\n          markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n          markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n        }\n      }\n    }\n  }\n  pagePag.innerHTML = markupS;\n  markupS = '';\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  pageS = newPage;\n}\n\n//очистка\nfunction reseterS() {\n  pagePag.innerHTML = '';\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAllS() {\n  apiServise.fetchSearchMoviesPages(apiServise.query).then(res => {\n    totalAllS = res.total_pages;\n    totalPageS(totalAllS);\n  });\n\n  function totalPageS() {\n    if (totalAllS > 500) {\n      totalS = 500;\n    } else {\n      totalS = totalAllS;\n    }\n  }\n}\n","function backToTop() {\n  let button = document.querySelector('.back-to-top');\n\n  window.addEventListener('scroll', () => {\n    const scrollY = window.scrollY || document.documentElement.scrollTop;\n    if (scrollY >= 300) {\n      button.classList.remove('btn-up_hide');\n    } else {\n      button.classList.add('btn-up_hide');\n    }\n  });\n\n  button.addEventListener('click', e => {\n    e.preventDefault();\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n}\nbackToTop();\n"],"names":["parcelRequire","$bpxeT","$3f7698770ed19e9c$var$container","document","querySelector","$3f7698770ed19e9c$var$newApiService","$igxJ3","default","$3f7698770ed19e9c$var$newLoader","$kvC6y","$3f7698770ed19e9c$var$_fetchData","$parcel$interopDefault","$2TvXO","mark","_callee","genresBase","showLoader","Promise","resolve","setTimeout","fetchPopularMovies","then","param1","mk","results","map","param","genre","genres","find","g","id","genreIds","i","genresNames","push","name","poster_path","original_title","genre_ids","release_date","date","slice","$8nrFW","i1","length","_loop","currentGanre","$9BNc1","numberOfGeneras","join","concat","marKup","$drCPS","innerHTML","hideLoader","console","error","_ctx","t0","apply","this","arguments","ganreListProcessin","$dfaf77c789ce7a24$var$newApiService","$dfaf77c789ce7a24$var$page","$dfaf77c789ce7a24$var$total","$dfaf77c789ce7a24$var$markup","$dfaf77c789ce7a24$var$LEFT_ARROW","$dfaf77c789ce7a24$var$RIGHT_ARROW","$dfaf77c789ce7a24$var$pagePag","$dfaf77c789ce7a24$var$pageMainContent","$dfaf77c789ce7a24$var$addListener","liElItems","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step1","liElItem","_step","value","classList","contains","addEventListener","e","newPage","textContent","pageNum","$dfaf77c789ce7a24$var$reseter","$dfaf77c789ce7a24$var$mainContent","$dfaf77c789ce7a24$var$renderPagination","$dfaf77c789ce7a24$var$switchArrow","_iterator","Symbol","iterator","next","done","err","return","jsBtnArrows","_step3","jsBtnArrow","result","insertAdjacentHTML","p","log","p1","p2","p3","$dfaf77c789ce7a24$var$totalAll","res","total_pages","button","$7ce7ff446324f63e$var$apiServise","$7ce7ff446324f63e$var$refs","searchForm","main","wrongSearchMess","$7ce7ff446324f63e$var$pageS","$7ce7ff446324f63e$var$totalS","$7ce7ff446324f63e$var$markupS","$7ce7ff446324f63e$var$LEFT_ARROWS","$7ce7ff446324f63e$var$RIGHT_ARROWS","$7ce7ff446324f63e$var$pagePag","$7ce7ff446324f63e$var$ganreListProcessin","$7ce7ff446324f63e$var$_ganreListProcessin","comparisonList","ganres","localStorageJson","JSON","parse","localStorage","getItem","fetchGenresMovies","sent","stringify","setItem","$7ce7ff446324f63e$var$createCards","$7ce7ff446324f63e$var$_createCards","fetchSearchMoviesPages","add","articleStore","title","markup","$4p7m4","remove","$7ce7ff446324f63e$var$addListenerS","liElItemsS","$7ce7ff446324f63e$var$reseterS","query","$7ce7ff446324f63e$var$renderPaginationS","$7ce7ff446324f63e$var$switchArrowS","$7ce7ff446324f63e$var$totalAllS","preventDefault","currentTarget","elements","search","$7ce7ff446324f63e$var$onInputForm","window","scrollY","documentElement","scrollTop","scrollTo","top","left","behavior"],"version":3,"file":"index.1f226f11.js.map"}