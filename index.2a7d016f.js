var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in i){var a=i[t];delete i[t];var o={id:t,exports:{}};return n[t]=o,a.call(o.exports,o,o.exports),o.exports}var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(t,n){i[t]=n},t.parcelRequired7c6=a),a("1VOaQ"),a("lxQoS");var o=a("gh9Wa"),e=a("fgrH9"),s=a("lxQoS"),l=a("gjiCh");const r=document.querySelector(".main-content"),c=new(0,e.default),_=new(0,l.default);(0,s.ganreListProcessin)().then((async function(t){try{_.showLoader(),await new Promise((t=>setTimeout(t,300))),await c.fetchPopularMovies().then((({results:n})=>{const i=n.map((({poster_path:n,original_title:i,genre_ids:a,release_date:o,id:e})=>{const l=o.slice(0,4),r=[...t.genres],c=a;let _=[];for(let t=0;t<c.length;t++){const n=r.find((n=>n.id===c[t]));_.push(n.name)}let g=null;return g=_.length<s.numberOfGeneras?_.join(",  "):[..._.slice(0,2),"Other"].join(", "),{poster_path:n,original_title:i,currentGanre:g,date:l,id:e}})),a=(0,o.default)({mk:i});r.innerHTML=a,_.hideLoader()}))}catch(t){console.error("Помилка під час отримання даних:",t)}})),a("lcIK4");o=a("gh9Wa");const g=new(0,(e=a("fgrH9")).default);let p=1,u=20,f="";const d=document.querySelector(".pagination"),b=document.querySelector(".main-content");function h(){const t=document.querySelectorAll(".pagination__btn");for(const n of t)n.classList.contains("pagination__points")||n.addEventListener("click",(t=>{var i;i=1*n.textContent,p=i,g.pageNum=p,L(),w(),m(),h(),v()}))}function v(){const t=document.querySelectorAll(".js-arrow");for(const n of t)n.addEventListener("click",(t=>{n.classList.contains("pagination__arrow-left")&&(p-=1,g.pageNum=p,L(),w(),m(),v(),h()),n.classList.contains("pagination__arrow-right")&&(p+=1,g.pageNum=p,L(),w(),m(),v(),h())}))}function w(){document.querySelector(".main-content");g.fetchPopularMovies().then((({results:t})=>{t.map((t=>{const{poster_path:n,original_title:i,genre_ids:a,release_date:e,id:s}=t,l=a.join(", "),r=e.slice(0,4),c=(0,o.default)({poster_path:n,original_title:i,genres:l,date:r,id:s});document.querySelector(".main-content").insertAdjacentHTML("beforeend",c)}))}))}function m(){if(u<6){1!=p&&(f+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let t=1;t<=u;t++)console.log(u),f+=t===p?`<li class="pagination__btn pagination__btn-active ">${p}</li>`:`<li class="pagination__btn ">${t}</li>`}else if(p<4){1!=p&&(f+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let t=1;t<=p+2;t++)f+=t===p?`<li class="pagination__btn pagination__btn-active ">${p}</li>`:`<li class="pagination__btn ">${t}</li>`;f+='<li class="pagination__btn pagination__points">...</li>',f+=`<li class="pagination__btn ">${u}</li>`,f+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(p>u-3){f+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',f+='<li class="pagination__btn ">1</li>',f+='<li class="pagination__btn pagination__points">...</li>';for(let t=p-2;t<=u;t+=1)f+=t===p?`<li class="pagination__btn pagination__btn-active ">${p}</li>`:`<li class="pagination__btn ">${t}</li>`;f+=u===p?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden"><svg class="pagination__icon-rigth"></svg></button>':'<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(p<=u-3){f+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',f+='<li class="pagination__btn ">1</li>',f+='<li class="pagination__btn pagination__points">...</li>';for(let t=p-2;t<=p+2;t+=1)f+=t===p?`<li class="pagination__btn pagination__btn-active ">${p}</li>`:`<li class="pagination__btn ">${t}</li>`;f+='<li class="pagination__btn pagination__points">...</li>',f+=`<li class="pagination__btn ">${u}</li>`,f+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}d.innerHTML=f,f=""}function L(){d.innerHTML="",b.innerHTML=""}function y(){g.fetchPopularMovies().then((t=>{y=t.total_pages,u=y>500?500:y}))}y(),w(),m(),h(),v();e=a("fgrH9");var S=a("5BiId");const j=new(0,(e=a("fgrH9")).default),q=(new(0,e.default),{searchForm:document.querySelector(".header__search"),main:document.querySelector(".main-content"),wrongSearchMess:document.querySelector(".wrong-search")});let $=1,M=20,T="";const H=document.querySelector(".pagination");async function E(){let t=JSON.parse(localStorage.getItem("ganre-List"));try{if(!localStorage.getItem("ganre-List")){const n=await j.fetchGenresMovies();t=n;const i=JSON.stringify(n);localStorage.setItem("ganre-List",i)}}catch(t){console.log("ganreListProcessin",t)}return t}async function N(t){try{await j.fetchSearchMoviesPages().then((({results:n})=>{if(q.wrongSearchMess.classList.add("visually-hidden"),!n.length)return void q.wrongSearchMess.classList.remove("visually-hidden");const i=n.map((({title:n,release_date:i,poster_path:a,genre_ids:o,id:e})=>{i=i.slice(0,4),a=`https://image.tmdb.org/t/p/w500${a}`;const s=[...t.genres],l=o;let r=[];for(let t=0;t<l.length;t++){const n=s.find((n=>n.id===l[t]));r.push(n.name)}let c=[...r.slice(0,2),"Other"].join(" ");return r.length<4&&(c=[...r].join(" ")),{title:n,release_date:i,currentGanre:c,poster_path:a,id:e}})),a=(0,S.default)({articleStore:i});q.main.innerHTML=a}))}catch(t){console.log("createCards",t)}}function x(){const t=document.querySelectorAll(".pagination__btn");for(const n of t)n.classList.contains("pagination__points")||n.addEventListener("click",(t=>{var i;i=1*n.textContent,$=i,j.pageNum=$,k(),E(j.query).then(N),P(),x(),O()}))}function O(){const t=document.querySelectorAll(".js-arrow");for(const n of t)n.addEventListener("click",(t=>{n.classList.contains("pagination__arrow-left")&&($-=1,j.pageNum=$,k(),E(j.query).then(N),P(),O(),x()),n.classList.contains("pagination__arrow-right")&&($+=1,j.pageNum=$,k(),E(j.query).then(N),P(),O(),x())}))}function P(){if(M<6){1!=$&&(T+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let t=1;t<=M;t++)T+=t===$?`<li class="pagination__btn pagination__btn-active ">${$}</li>`:`<li class="pagination__btn ">${t}</li>`}else if($<4){1!=$&&(T+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let t=1;t<=$+2;t++)T+=t===$?`<li class="pagination__btn pagination__btn-active ">${$}</li>`:`<li class="pagination__btn ">${t}</li>`;T+='<li class="pagination__btn pagination__points">...</li>',T+=`<li class="pagination__btn ">${M}</li>`,T+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if($>M-3){T+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',T+='<li class="pagination__btn ">1</li>',T+='<li class="pagination__btn pagination__points">...</li>';for(let t=$-2;t<=M;t+=1)T+=t===$?`<li class="pagination__btn pagination__btn-active ">${$}</li>`:`<li class="pagination__btn ">${t}</li>`;T+=M===$?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden"><svg class="pagination__icon-rigth"></svg></button>':'<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if($<=M-3){T+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',T+='<li class="pagination__btn ">1</li>',T+='<li class="pagination__btn pagination__points">...</li>';for(let t=$-2;t<=$+2;t+=1)T+=t===$?`<li class="pagination__btn pagination__btn-active ">${$}</li>`:`<li class="pagination__btn ">${t}</li>`;T+='<li class="pagination__btn pagination__points">...</li>',T+=`<li class="pagination__btn ">${M}</li>`,T+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}H.innerHTML=T,T=""}function k(){H.innerHTML=""}function A(){j.fetchSearchMoviesPages(j.query).then((t=>{A=t.total_pages,M=A>500?500:A}))}q.searchForm.addEventListener("submit",(function(t){t.preventDefault(),function(t){j.query=t.currentTarget.elements.search.value,E().then(N)}(t),A(),k(),P(),x(),O()})),function(){let t=document.querySelector(".back-to-top");window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>=300?t.classList.remove("btn-up_hide"):t.classList.add("btn-up_hide")})),t.addEventListener("click",(t=>{t.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.2a7d016f.js.map
