!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},e=t.parcelRequired7c6;null==e&&((e=function(n){if(n in i)return i[n].exports;if(n in a){var t=a[n];delete a[n];var e={id:n,exports:{}};return i[n]=e,t.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){a[n]=t},t.parcelRequired7c6=e),e("dsadE"),e("9BNc1");var o=e("bpxeT"),r=e("8nrFW"),c=e("2TvXO"),l=e("drCPS"),s=e("igxJ3"),u=e("9BNc1"),_=e("kvC6y"),p=new(0,s.default),f=new(0,_.default);function d(){return(d=n(o)(n(c).mark((function t(i){return n(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f.showLoader(),t.next=4,new Promise((function(n){return setTimeout(n,300)}));case 4:return t.next=6,p.fetchPopularMovies().then((function(t){t.results.map((function(t){for(var a=function(n){var t=f.find((function(t){return t.id===d[n]}));g.push(t.name)},e=t.poster_path,o=t.original_title,c=t.genre_ids,s=t.release_date,_=t.id,p=s.slice(0,4),f=n(r)(i.genres),d=c,g=[],b=0;b<d.length;b++)a(b);var v=n(r)(g.slice(0,2)).concat(["Other"]).join(" ");g.length<u.numberOfGeneras&&(v=n(r)(g).join(" "));var h=(0,l.default)({poster_path:e,original_title:o,currentGanre:v,date:p,id:_});document.querySelector(".main-content").insertAdjacentHTML("beforeend",h)}))}));case 6:f.hideLoader(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Помилка під час отримання даних:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}(0,u.ganreListProcessin)().then((function(n){return d.apply(this,arguments)})),e("1RG4E");l=e("drCPS"),s=e("igxJ3"),u=e("9BNc1");var g,b=new(0,s.default),v=1,h=20,w="",m='<svg class="pagination__icon-left"></svg>',y='<svg class="pagination__icon-rigth"></svg>',L=document.querySelector(".pagination"),x=document.querySelector(".main-content"),j=document.querySelector(".header__search");function S(){var n=document.querySelectorAll(".pagination__btn"),t=!0,i=!1,a=void 0;try{for(var e,o=function(n,t){var i=t.value;if(i.classList.contains("pagination__points"))return"continue";i.addEventListener("click",(function(n){N(1*i.textContent),b.pageNum=v,M(),q(),E(v,h),S(),T()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){i=!0,a=n}finally{try{t||null==r.return||r.return()}finally{if(i)throw a}}j.addEventListener("submit",(function(n){N(1*liElItem.textContent),M(),(0,u.onInputForm)(),E(v,h),S(),T()}))}function T(){var n=document.querySelectorAll(".js-arrow"),t=!0,i=!1,a=void 0;try{for(var e,o=function(n,t){var i=t.value;i.addEventListener("click",(function(n){i.classList.contains("pagination__arrow-left")&&(v-=1,b.pageNum=v,M(),q(),E(v,h),T(),S()),i.classList.contains("pagination__arrow-right")&&(v+=1,b.pageNum=v,M(),q(),E(v,h),T(),S())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){i=!0,a=n}finally{try{t||null==r.return||r.return()}finally{if(i)throw a}}}function q(){document.querySelector(".main-content");b.fetchPopularMovies().then((function(n){n.results.map((function(n){var t=n.poster_path,i=n.original_title,a=n.genre_ids,e=n.release_date,o=n.id,r=a.join(", "),c=e.slice(0,4),s=(0,l.default)({poster_path:t,original_title:i,genres:r,date:c,id:o});document.querySelector(".main-content").insertAdjacentHTML("beforeend",s)}))}))}function E(n,t){if(t<6){1!=n&&(w+='<button class="pagination__arrow-left js-arrow">'.concat(m,"</button>"));for(var i=1;i<=t;i++)console.log(t),w+=i===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>")}else if(n<4){1!=n&&(w+='<button class="pagination__arrow-left js-arrow">'.concat(m,"</button>"));for(var a=1;a<=n+2;a++)w+=a===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");w+='<li class="pagination__btn pagination__points">...</li>',w+='<li class="pagination__btn ">'.concat(t,"</li>"),w+='<button class="pagination__arrow-right js-arrow">'.concat(y,"</button>")}else if(n>t-3){w+='<button class="pagination__arrow-left js-arrow">'.concat(m,"</button>"),w+='<li class="pagination__btn ">1</li>',w+='<li class="pagination__btn pagination__points">...</li>';for(var e=n-2;e<=t;e+=1)w+=e===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(e,"</li>");w+=t===n?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(y,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(y,"</button>")}else if(n<=t-3){w+='<button class="pagination__arrow-left js-arrow">'.concat(m,"</button>"),w+='<li class="pagination__btn ">1</li>',w+='<li class="pagination__btn pagination__points">...</li>';for(var o=n-2;o<=n+2;o+=1)w+=o===n?'<li class="pagination__btn pagination__btn-active ">'.concat(n,"</li>"):'<li class="pagination__btn ">'.concat(o,"</li>");w+='<li class="pagination__btn pagination__points">...</li>',w+='<li class="pagination__btn ">'.concat(t,"</li>"),w+='<button class="pagination__arrow-right js-arrow">'.concat(y,"</button>")}L.innerHTML=w,w=""}function M(){L.innerHTML="",x.innerHTML=""}function N(n){v=n}function k(){b.fetchPopularMovies().then((function(n){k=n.total_pages,h=k>500?500:k}))}k(),q(),E(v,h),S(),T(),g=document.querySelector(".back-to-top"),window.addEventListener("scroll",(function(){(window.scrollY||document.documentElement.scrollTop)>=300?g.classList.remove("btn-up_hide"):g.classList.add("btn-up_hide")})),g.addEventListener("click",(function(n){n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.0560b076.js.map
