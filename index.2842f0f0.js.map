{"mappings":"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","sources":["src/js/index.js","src/js/renderCards.js","src/js/pagination.js","src/js/paginationS.js","src/js/upBtn.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './renderCards';\nimport './cardModal';\nimport './pagination';\nimport './paginationS';\nimport './upBtn';\nimport './renderCards';\n\n","\n\nimport searchRenderBox from '../templates/searchRenger.hbs';\n\nimport NewApiService from './api-servis';\nimport { numberOfGeneras, ganreListProcessin, renderOnScreen } from './searchByKeyword';\nimport NewLoader from './loader';\nconst container = document.querySelector('.main-content');\nconst newApiService = new NewApiService();\nconst newLoader = new NewLoader();\nganreListProcessin().then(fetchData);\n\nasync function fetchData(genresBase) { \n  try { \n    newLoader.showLoader();\n    await new Promise(resolve => setTimeout(resolve, 300));\n\n\n    await newApiService.fetchPopularMovies().then(({ results }) => {\n      renderOnScreen( results , genresBase);\n    });\n\n    newLoader.hideLoader();\n    \n\n  } catch (error) {\n    console.error('Помилка під час отримання даних:', error);\n  }\n} \n","\n//імпорт асинхронної функції феч з отриманням даних з сервера \nimport cardTemplate from '../templates/cardTemplate.hbs'\nimport NewApiService from './api-servis'\nconst newApiService = new NewApiService()\n\n\nlet page = 1;\nlet total = 20;\nlet markup = '';\nconst LEFT_ARROW = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROW = `<svg class=\"pagination__icon-rigth\"></svg>`;\n\nconst pagePag = document.querySelector('.pagination');\nconst pageMainContent = document.querySelector('.main-content');\n\ntotalAll();\nmainContent();\nrenderPagination(page, total);\naddListener();\nswitchArrow();\n\n//перемикач по кліку на цифри\n\n function addListener(){\n  const liElItems = document.querySelectorAll(\".pagination__btn\");\n\n  for (const liElItem of liElItems) {\n    if (liElItem.classList.contains('pagination__points')) {\n      continue;\n    }\n    liElItem.addEventListener('click', e => {\n      pageNum(liElItem.textContent * 1);\n      newApiService.pageNum = page;\n      reseter();\n      mainContent();\n      renderPagination(page, total);\n\n      addListener();\n      switchArrow ();\n    })\n  } \n\n}\n\n//перемикач по кліку на <>\n\nfunction switchArrow (){\n  const jsBtnArrows = document.querySelectorAll(\".js-arrow\");\n  \n  for (const jsBtnArrow of jsBtnArrows){\n    jsBtnArrow.addEventListener ('click', (e) => {\n  \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-left\")) {\n\n        page = page - 1;\n        newApiService.pageNum = page;\n        reseter();\n        mainContent();\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n\n      \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-right\")) {\n        page = page + 1\n\n        newApiService.pageNum = page;\n        reseter();\n        mainContent();\n        renderPagination(page, total);\n        switchArrow();\n        addListener();\n      }\n    });\n  }\n}\n\n// відбудова карток\nfunction mainContent() {\n  const pageMainContent = document.querySelector('.main-content');\n  newApiService.fetchPopularMovies().then(({ results }) => {\n    results.map(result => {\n      const { poster_path, original_title, genre_ids, release_date, id } =\n        result;\n      const genres = genre_ids.join(', ');\n      const date = release_date.slice(0, 4);\n      const mk = cardTemplate({\n        poster_path,\n        original_title,\n        genres,\n        date,\n        id,\n      });\n      const container = document.querySelector('.main-content');\n      container.insertAdjacentHTML('beforeend', mk);\n    });\n  });\n\n}  \n\n//відбудова кнопок\nfunction renderPagination() { \n\n  \n\n  if (total < 6) {\n    if (page != 1) { \n      markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n    }\n    for (let p = 1; p <= total; p++) {\n      console.log(total);\n      if (p === page) {\n        markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n      } else {\n        markup += `<li class=\"pagination__btn \">${p}</li>`;\n      }\n    }\n  } else {\n    if (page < 4) {\n      if (page != 1) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n      }\n      for (let p = 1; p <= page + 2; p++) {\n        if (p === page) {\n          markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n        } else {\n          markup += `<li class=\"pagination__btn \">${p}</li>`;\n        }\n      }\n      markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markup += `<li class=\"pagination__btn \">${total}</li>`;\n      markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n    } else {\n      if (page > total - 3) {\n        markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n        markup += `<li class=\"pagination__btn \">1</li>`;\n        markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = page - 2; p <= total; p = p + 1) {\n          if (p === page) {\n            markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n          } else {\n            markup += `<li class=\"pagination__btn \">${p}</li>`;\n          }\n        }\n        if (total === page) {\n          markup += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROW}</button>`;\n        } else {\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      } else {\n        if (page <= total - 3) {\n          markup += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROW}</button>`;\n          markup += `<li class=\"pagination__btn \">1</li>`;\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = page - 2; p <= page + 2; p = p + 1) {\n            if (p === page) {\n              markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n            } else {\n              markup += `<li class=\"pagination__btn \">${p}</li>`;\n            }\n          }\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          markup += `<li class=\"pagination__btn \">${total}</li>`;\n          markup += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROW}</button>`;\n        }\n      }\n    }\n  }\n  pagePag.innerHTML = markup;\n  markup = '';\n}\n\n//очистка\nfunction reseter() {\n  pagePag.innerHTML = '';\n  pageMainContent.innerHTML = '';\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  page = newPage;\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAll() {\n  newApiService.fetchPopularMovies().then(res => {\n    totalAll = res.total_pages;\n\n    totalPage(totalAll)\n  })\n\n  function totalPage() {\n    if (totalAll > 500) {\n      total = 500;\n    } else {\n      total = totalAll;\n    }\n  }\n} \n\n","import apiServer from './api-servis'\nimport searchRenderBox from '../templates/searchRenger.hbs'\nimport NewApiService from './api-servis'\nconst apiServise = new apiServer()\nconst newApiService = new NewApiService()\n\nconst numberOfGeneras = 4;\nconst refs = {\n    searchForm: document.querySelector('.header__search'),\n    main: document.querySelector('.main-content'),\n    wrongSearchMess: document.querySelector('.wrong-search'),\n};\n\nlet pageS = 1;\nlet totalS = 20;\nlet markupS = '';\nconst LEFT_ARROWS = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROWS = `<svg class=\"pagination__icon-rigth\"></svg>`; \nconst pagePag = document.querySelector('.pagination');\n//const pageMainContent = document.querySelector('.main-content');\n\nrefs.searchForm.addEventListener('submit', onClickSubmit)\n\nfunction onClickSubmit(e){\n  e.preventDefault()\n  onInputForm(e);\n  totalAllS();\n  reseterS();\n  renderPaginationS(pageS, totalS)\n  addListenerS();\n  switchArrowS();\n}\n\nfunction onInputForm(e){\n  apiServise.query = e.currentTarget.elements.search.value;\n  ganreListProcessin().then(createCards);  \n}\n\nasync function ganreListProcessin(){\n  let comparisonList = JSON.parse(localStorage.getItem('ganre-List'));\n  try {\n    if(!localStorage.getItem('ganre-List')){\n      const  ganres =  await apiServise.fetchGenresMovies();     \n      comparisonList = ganres;\n      const localStorageJson = JSON.stringify(ganres);\n      localStorage.setItem('ganre-List',localStorageJson);\n    }\n  } catch (error) {\n    console.log(\"ganreListProcessin\", error);\n  }\n  return comparisonList;\n}\n\n//відбудова карток\nasync function createCards(genresBase){\n  try{\n    await apiServise.fetchSearchMoviesPages().then(({results}) =>{\n      refs.wrongSearchMess.classList.add(\"visually-hidden\")\n      if(!results.length){\n        refs.wrongSearchMess.classList.remove(\"visually-hidden\");\n        return;\n      } \n      const articleStore = results.map(({title, release_date, poster_path, genre_ids, id}) =>{\n        release_date = release_date.slice(0,4);\n        poster_path = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        const genres = [...genresBase.genres];\n        const genreIds = genre_ids;\n        let genresNames = [];\n        const other =\"Other\"\n        for (let i = 0; i < genreIds.length; i++) {\n          const genre = genres.find(g => g.id === genreIds[i]);\n          genresNames.push(genre.name); \n        }\n        let currentGanre = [...genresNames.slice(0,2), other].join(' ');\n        if( genresNames.length < numberOfGeneras ){\n          currentGanre = [...genresNames].join(' ');\n        }\n        return {title, release_date, currentGanre, poster_path, id};\n      });\n      const markup = searchRenderBox({articleStore});\n      refs.main.innerHTML = markup;       \n    });    \n  } catch (error) {\n    console.log(\"createCards\", error);\n  }\n}\n\n//перемикач по кліку на цифри\n function addListenerS(){\n  const liElItemsS = document.querySelectorAll(\".pagination__btn\");\n  for (const liElItem of liElItemsS) {\n    \n    if (liElItem.classList.contains(\"pagination__points\")){\n      continue;\n    }\n    liElItem.addEventListener('click', (e) =>{\n      pageNum(liElItem.textContent*1)\n      apiServise.pageNum = pageS;\n      reseterS();\n      ganreListProcessin(apiServise.query).then(createCards)\n      renderPaginationS(pageS, totalS);\n      addListenerS();\n      switchArrowS();\n    })\n  } \n}\n\n//перемикач по кліку на <>\nfunction switchArrowS (){\n  const jsBtnArrows = document.querySelectorAll(\".js-arrow\");\n  \n  for (const jsBtnArrow of jsBtnArrows){\n    jsBtnArrow.addEventListener ('click', (e) => {\n  \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-left\")) {\n        pageS = pageS - 1;\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards)\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      }\n      \n      if (jsBtnArrow.classList.contains(\"pagination__arrow-right\")) {\n        pageS = pageS + 1\n        apiServise.pageNum = pageS;\n        reseterS();\n        ganreListProcessin(apiServise.query).then(createCards)\n        renderPaginationS(pageS, totalS);\n        switchArrowS();\n        addListenerS();\n      };\n    }); \n  }  \n}\n\n//відбудова кнопок\nfunction renderPaginationS() { \n  \n  if (totalS < 6) {\n    if (pageS != 1) {\n      markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n    }\n    for (let p = 1; p <= totalS; p++) {\n      if (p === pageS) {\n        markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n      } else {\n      markupS += `<li class=\"pagination__btn \">${p}</li>`\n      } \n    }\n  } else {\n    if (pageS < 4) {\n      if (pageS != 1) {\n       markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n      }\n      for (let p = 1; p <= pageS + 2; p++) {\n        if (p === pageS) {\n          markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n        } else {\n        markupS += `<li class=\"pagination__btn \">${p}</li>`\n        }        \n      }\n      markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n      markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n    } else {\n      if (pageS > totalS - 3) {\n          markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n          markupS += `<li class=\"pagination__btn \">1</li>`;\n          markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n        for (let p = pageS-2; p <= totalS; p=p+1) {\n          if (p === pageS) {\n            markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n          } else {\n            markupS += `<li class=\"pagination__btn \">${p}</li>`;\n          }        \n        } \n        if (totalS === pageS){\n            markupS += `<button class=\"pagination__arrow-right js-arrow pagination__arrow-hiden\">${RIGHT_ARROWS}</button>`;\n        } else {\n            markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;\n        }\n      } else {\n        if (pageS <= totalS - 3) {\n            markupS += `<button class=\"pagination__arrow-left js-arrow\">${LEFT_ARROWS}</button>`;\n            markupS += `<li class=\"pagination__btn \">1</li>`;\n            markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = pageS-2; p <= pageS+2; p=p+1){\n            if (p === pageS) {\n              markupS += `<li class=\"pagination__btn pagination__btn-active \">${pageS}</li>`;\n            } else {\n              markupS += `<li class=\"pagination__btn \">${p}</li>`;\n              }\n          }\n            markupS += `<li class=\"pagination__btn pagination__points\">...</li>`;\n            markupS += `<li class=\"pagination__btn \">${totalS}</li>`;\n            markupS += `<button class=\"pagination__arrow-right js-arrow\">${RIGHT_ARROWS}</button>`;   \n        } \n      } \n    }\n  }\n  pagePag.innerHTML = markupS\n  markupS = \"\";\n}\n\n//оновлення нумерації по 'click'\nfunction pageNum(newPage) {\n  pageS = newPage;\n}\n\n//очистка\nfunction reseterS(){\n  pagePag.innerHTML = '';\n}\n\n//функція додавання № кінцевої сторінки\nfunction totalAllS() {\n  apiServise.fetchSearchMoviesPages(apiServise.query).then(res => {\n    totalAllS = res.total_pages;\n    totalPageS(totalAllS)\n  })\n\n  function totalPageS() {\n    if (totalAllS > 500) {\n      totalS = 500\n    } else {totalS = totalAllS}\n  }\n} ","function backToTop() {\n  let button = document.querySelector('.back-to-top');\n\n  window.addEventListener('scroll', () => {\n    const scrollY = window.scrollY || document.documentElement.scrollTop;\n    if (scrollY >= 300) {\n      button.classList.remove('btn-up_hide');\n    } else {\n      button.classList.add('btn-up_hide');\n    }\n  });\n\n  button.addEventListener('click', e => {\n    e.preventDefault();\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n}\nbackToTop();\n"],"names":["parcelRequire","$bpxeT","$3f7698770ed19e9c$var$newApiService","document","querySelector","$igxJ3","default","$3f7698770ed19e9c$var$newLoader","$kvC6y","$3f7698770ed19e9c$var$_fetchData","$parcel$interopDefault","$2TvXO","mark","_callee","genresBase","showLoader","Promise","resolve","setTimeout","fetchPopularMovies","then","param","results","$9BNc1","renderOnScreen","hideLoader","console","error","_ctx","t0","apply","this","arguments","ganreListProcessin","$drCPS","$dfaf77c789ce7a24$var$newApiService","$dfaf77c789ce7a24$var$page","$dfaf77c789ce7a24$var$total","$dfaf77c789ce7a24$var$markup","$dfaf77c789ce7a24$var$LEFT_ARROW","$dfaf77c789ce7a24$var$RIGHT_ARROW","$dfaf77c789ce7a24$var$pagePag","$dfaf77c789ce7a24$var$pageMainContent","$dfaf77c789ce7a24$var$addListener","liElItems","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step1","liElItem","_step","value","classList","contains","addEventListener","e","newPage","textContent","pageNum","$dfaf77c789ce7a24$var$reseter","$dfaf77c789ce7a24$var$mainContent","$dfaf77c789ce7a24$var$renderPagination","$dfaf77c789ce7a24$var$switchArrow","_iterator","Symbol","iterator","next","done","_loop","err","return","jsBtnArrows","_step3","jsBtnArrow","map","result","poster_path","original_title","genre_ids","release_date","id","genres","join","date","slice","mk","insertAdjacentHTML","concat","p","log","p1","p2","p3","innerHTML","$dfaf77c789ce7a24$var$totalAll","res","total_pages","button","$7ce7ff446324f63e$var$apiServise","$7ce7ff446324f63e$var$refs","searchForm","main","wrongSearchMess","$7ce7ff446324f63e$var$pageS","$7ce7ff446324f63e$var$totalS","$7ce7ff446324f63e$var$markupS","$7ce7ff446324f63e$var$LEFT_ARROWS","$7ce7ff446324f63e$var$RIGHT_ARROWS","$7ce7ff446324f63e$var$pagePag","$7ce7ff446324f63e$var$ganreListProcessin","$7ce7ff446324f63e$var$_ganreListProcessin","comparisonList","ganres","localStorageJson","JSON","parse","localStorage","getItem","fetchGenresMovies","sent","stringify","setItem","$7ce7ff446324f63e$var$createCards","$7ce7ff446324f63e$var$_createCards","fetchSearchMoviesPages","param1","add","length","articleStore","genre","find","g","genreIds","i","genresNames","push","name","title","$8nrFW","i1","currentGanre","markup","$4p7m4","remove","$7ce7ff446324f63e$var$addListenerS","liElItemsS","$7ce7ff446324f63e$var$reseterS","query","$7ce7ff446324f63e$var$renderPaginationS","$7ce7ff446324f63e$var$switchArrowS","$7ce7ff446324f63e$var$totalAllS","preventDefault","currentTarget","elements","search","$7ce7ff446324f63e$var$onInputForm","window","scrollY","documentElement","scrollTop","scrollTo","top","left","behavior"],"version":3,"file":"index.2842f0f0.js.map"}