{"mappings":"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","sources":["src/js/library.js","src/js/actionLibrary.js","src/templates/cardTemplateLibrary.hbs"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './cardModal';\nimport './actionLibrary';","import NewLoader from './loader';\nimport * as renderingFromStorage from './renderFromStorage';\nimport { load, storageKeys } from './localStorage';\n\nimport cardTemplate from '../templates/cardTemplateLibrary.hbs';\n\nimport cardTemplate from '../templates/cardTemplate.hbs';\n\nimport { numberOfGeneras, ganreListProcessin } from './searchByKeyword';\n\nconst newLoader = new NewLoader();\n\nconst refs = {\n  btnWatched: document.querySelector('.library__btn-watched'),\n  btnQueue: document.querySelector('.library__btn-queue'),\n};\n\nganreListProcessin().then(fetchData);\n\nrefs.btnWatched.addEventListener('click', evt => {\n  refs.btnWatched.classList.add('is-active');\n  refs.btnQueue.classList.remove('is-active');\n  renderingFromStorage.loadFromStorageWatched();\n});\n\nrefs.btnQueue.addEventListener('click', evt => {\n  refs.btnQueue.classList.add('is-active');\n  refs.btnWatched.classList.remove('is-active');\n  renderingFromStorage.loadFromStorageQueue();\n});\n//refs.btnWatched.addEventListener('click', renderingFromStorage.loadFromStorageWatched);\n//refs.btnQueue.addEventListener('click', renderingFromStorage.loadFromStorageQueue);\n\n\nasync function fetchData(genresBase) {\n  try {\n    newLoader.showLoader();\n    await new Promise(resolve => setTimeout(resolve, 300));\n\n    const results = load(storageKeys.WATCHED) || [];\n    const container = document.querySelector('.main-content');\n    container.innerHTML = '';\n\n    results.map(result => { \n      const { poster_path, original_title, genres, release_date, id } =\n        result;\n      const date = release_date.slice(0, 4);\n\n      const genresArray = [...genresBase.genres];\n      const genreIds = genres;\n      let genresNames = [];\n      const other = 'Other';\n      for (let i = 0; i < genreIds.length; i++) {\n        const genre = genresArray.find(g => g.id === genreIds[i].id); \n        genresNames.push(genre.name);\n      } \n      let currentGanre = [...genresNames.slice(0, 2), other].join(', ');\n      if (genresNames.length < numberOfGeneras) {\n        currentGanre = [...genresNames].join(', ');\n      }\n\n      const mk = cardTemplate({\n        poster_path,\n        original_title,\n        currentGanre,\n        date,\n        id,\n      });\n\n      container.insertAdjacentHTML('beforeend', mk);\n    });\n   \n    newLoader.hideLoader();\n  } catch (error) {\n    console.error('Помилка під час отримання даних:', error);\n  }\n}","<li class='card-item' data-action='{{id}}'>\n  <div class='card-img'>\n    <img\n      src='https://image.tmdb.org/t/p/w500{{poster_path}}'\n      class='card-img-top'\n      alt='{{original_title}}'\n    />\n  </div>\n  <div class='card-body'>\n    <p class='card-title'>{{original_title}}</p>\n    <p class='card-text'>{{currentGanre}} | {{date}}</p>\n  </div>\n</li>"],"names":["parcelRequire","$gjiCh","$parcel$interopDefault","template","compiler","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","useData","$89cf66516cb8e2b8$var$newLoader","default","$89cf66516cb8e2b8$var$refs","btnWatched","document","querySelector","btnQueue","$lxQoS","ganreListProcessin","then","async","genresBase","showLoader","Promise","resolve","setTimeout","results","$31u3U","load","storageKeys","WATCHED","innerHTML","map","result","poster_path","original_title","genres","release_date","id","date","slice","genresArray","genreIds","genresNames","i","length","genre","find","g","push","currentGanre","join","numberOfGeneras","mk","$gh9Wa","insertAdjacentHTML","hideLoader","error","console","addEventListener","evt","classList","add","remove","$7bRQz","loadFromStorageWatched","loadFromStorageQueue"],"version":3,"file":"library.f2c655e3.js.map"}