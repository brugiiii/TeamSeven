{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,UAEsB,IAAI,E,WAAAE,UAEZC,qBAAqBC,MAAK,EAACC,QAAEA,MACzCA,EAAQC,KAAIC,IACV,MAAMC,YAAEA,EAAWC,eAAEA,EAAcC,UAAEA,EAASC,aAAEA,EAAYC,GAAEA,GAAOL,EAC/DM,EAASH,EAAUI,KAAK,MACxBC,EAAOJ,EAAaK,MAAM,EAAG,GAE7BC,GAAK,EAAAhB,EAAAC,SAAa,C,YAAEM,E,eAAaC,E,OAAgBI,E,KAAQE,E,GAAMH,IAEnDM,SAASC,cAAc,iBAC/BC,mBAAmB,YAAaH,EAAG,GAC7C,I,WCbJhB,EAAAD,EAAA,UAEsB,IAAI,E,WAAAE,UAEZC,qBAAqBC,MAAK,EAACC,QAAEA,MACzCA,EAAQC,KAAIC,IACV,MAAMC,YAAEA,EAAWC,eAAEA,EAAcC,UAAEA,EAASC,aAAEA,EAAYC,GAAEA,GAAOL,EAC/DM,EAASH,EAAUI,KAAK,MACxBC,EAAOJ,EAAaK,MAAM,EAAG,GAE7BC,GAAK,EAAAhB,EAAAC,SAAa,C,YAAEM,E,eAAaC,E,OAAgBI,E,KAAQE,E,GAAMH,IAEnDM,SAASC,cAAc,iBAC/BC,mBAAmB,YAAaH,EAAG,GAC7C,IAGJ,MAAMI,EAAWH,SAASC,cAAc,eAGxCG,QAAQC,IADG,GAEX,IAEIC,EAAUH,EAKd,IAAII,EAAS,IAEb,SAA0BC,EAAMC,EAAOC,GAErC,GAAIN,QAAQC,IAAII,EAAQ,GAAI,CACd,GAARD,IACFD,GAAU,6FAEZ,IAAK,IAAII,EAAI,EAAGA,GAAKF,EAAOE,IAExBJ,GADEI,IAAMH,EACE,uDAAuDA,SAEzD,gCAAgCG,Q,KAGvC,CACL,GAAIH,EAAO,EAAG,CACA,GAARA,IACHD,GAAU,6FAEX,IAAK,IAAII,EAAI,EAAGA,GAAKH,EAAO,EAAGG,IAE3BJ,GADEI,IAAMH,EACE,uDAAuDA,SAEzD,gCAAgCG,SAG5CJ,GAAU,0DACVA,GAAU,gCAAgCE,SAC1CF,GAAU,8F,MAER,GAAIC,EAAOC,EAAQ,EAAG,CACpBF,GAAU,4FACVA,GAAU,sCACVA,GAAU,0DACV,IAAK,IAAII,EAAIH,EAAK,EAAGG,GAAKF,EAAOE,GAAI,EAEjCJ,GADEI,IAAMH,EACE,uDAAuDA,SAEzD,gCAAgCG,SAG1CJ,GADIE,IAAUD,EACJ,sHAEA,8F,MAGZ,GAAIA,GAAQC,EAAQ,EAAG,CACrBF,GAAU,4FACVA,GAAU,sCACVA,GAAU,0DACV,IAAK,IAAII,EAAIH,EAAK,EAAGG,GAAKH,EAAK,EAAGG,GAAI,EAElCJ,GADEI,IAAMH,EACE,uDAAuDA,SAEzD,gCAAgCG,SAE1CJ,GAAU,0DACVA,GAAU,gCAAgCE,SAC1CF,GAAU,8F,CAKtBD,EAAQM,UAAYL,C,EAGlBM,CA5EO,EAEC,IAiGVC,UAAU,GAAGC,iBAAiB,SAAUC,IACtC,MAAMC,EAAID,EAAME,cAChBd,QAAQC,IAAIY,GArGL,IAsGQE,cACbF,EAAEG,UAAUC,OAAO,0BAEbJ,EAAEG,UAAUE,SAAS,2BAC3BL,EAAEG,UAAUG,OAAO,0BAInBN,EAAEG,UAAUC,OAAO,0B","sources":["src/js/index.js","src/js/renderCards.js","src/js/pagination.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './renderCards';\nimport './cardModal';\nimport './pagination';\n","import cardTemplate from '../templates/cardTemplate.hbs';\nimport NewApiService from './api-servis';\nconst newApiService = new NewApiService();\n\nnewApiService.fetchPopularMovies().then(({ results }) => {\n  results.map(result => {\n    const { poster_path, original_title, genre_ids, release_date, id } = result;\n    const genres = genre_ids.join(', ');\n    const date = release_date.slice(0, 4);\n\n    const mk = cardTemplate({ poster_path, original_title, genres, date, id });\n\n    const container = document.querySelector('.main-content');\n    container.insertAdjacentHTML('beforeend', mk);\n  });\n});\n","//імпорт асинхронної функції феч з отриманням даних з сервера \nimport cardTemplate from '../templates/cardTemplate.hbs';\nimport NewApiService from './api-servis';\nconst newApiService = new NewApiService();\n\nnewApiService.fetchPopularMovies().then(({ results }) => {\n  results.map(result => {\n    const { poster_path, original_title, genre_ids, release_date, id } = result;\n    const genres = genre_ids.join(', ');\n    const date = release_date.slice(0, 4);\n\n    const mk = cardTemplate({ poster_path, original_title, genres, date, id });\n\n    const container = document.querySelector('.main-content');\n    container.insertAdjacentHTML('beforeend', mk);\n  });\n});\n\nconst pageMain = document.querySelector('.pagination');\n\nlet page = 5;\nconsole.log(page);\nlet total = 20;\nlet cardOnPage = 20;\nlet pagePag = pageMain;\n\nconst LEFT_ARROW = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROW = `<svg class=\"pagination__icon-rigth\"></svg>`;\n\nlet markup = '';\n\nfunction renderPagination(page, total, now) {\n  \n  if (console.log(total < 6)) {\n    if (page != 1) {\n      markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n    }\n    for (let p = 1; p <= total; p++) {\n      if (p === page) {\n        markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n      } else {\n      markup += `<li class=\"pagination__btn \">${p}</li>`\n      } \n    }\n  } else {\n    if (page < 4) {\n      if (page != 1) {\n       markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n      }\n      for (let p = 1; p <= page + 2; p++) {\n        if (p === page) {\n          markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n        } else {\n        markup += `<li class=\"pagination__btn \">${p}</li>`\n        }        \n      }\n      markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markup += `<li class=\"pagination__btn \">${total}</li>`;\n      markup += `<button class=\"pagination__arrow-right \">${RIGHT_ARROW}</button>`;\n    } else {\n        if (page > total - 3) {\n          markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n          markup += `<li class=\"pagination__btn \">1</li>`;\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = page-2; p <= total; p=p+1) {\n            if (p === page) {\n              markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n            } else {\n            markup += `<li class=\"pagination__btn \">${p}</li>`;\n              }        \n          } if (total === page){\n            markup += `<button class=\"pagination__arrow-right pagination__arrow-hiden\">${RIGHT_ARROW}</button>`;\n            } else {\n            markup += `<button class=\"pagination__arrow-right \">${RIGHT_ARROW}</button>`;\n              }\n        } else {\n          if (page <= total - 3) {\n            markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n            markup += `<li class=\"pagination__btn \">1</li>`;\n            markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n            for (let p = page-2; p <= page+2; p=p+1){\n              if (p === page) {\n                markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n              } else {\n              markup += `<li class=\"pagination__btn \">${p}</li>`;\n                }\n            } markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n              markup += `<li class=\"pagination__btn \">${total}</li>`;\n              markup += `<button class=\"pagination__arrow-right \">${RIGHT_ARROW}</button>`;   \n          } \n        } \n      } \n\n  pagePag.innerHTML = markup;\n  \n  }}\n    renderPagination(page, total);\n\n\n//add class active for <li> не працює\n   \n  /* let currentItemLi = document.querySelector('.pagination__btn-active');\n      console.log(currentItemLi); \n \n      let liElItem = document.querySelector(\".pagination__btn\");\n      console.log(liElItem);\n      let currentPage = page;\n\n    liElItem.addEventListener('click', () => {\n      if (page === currentPage){\n      liElItem.classList.add('pagination__btn-active');  }    \n      \n      renderPagination(markup); \n\n      if (liElItem.classList.contains('pagination__btn-active')){\n      liElItem.classList.remove('pagination__btn-active');\n       }\n    });  */\n\n  liElItems[0].addEventListener('click', (event) => {\n    const e = event.currentTarget;\n    console.log(e);\n      if (page === currentPage){\n      e.classList.toggle('pagination__btn-active');\n      //e.classList.remove('pagination__btn-active');\n        if (e.classList.contains('pagination__btn-active')){\n      e.classList.remove('pagination__btn-active');\n     // e.classList.toggle('pagination__btn-active');\n      } \n      //e.classList.remove('pagination__btn-active');\n      e.classList.toggle('pagination__btn-active');\n    }    \n          \n      \n  });  \n      \n  /* //лічильник який маэ переключати номерацію при кліку на <>\nconst pageBtnArrow = document.querySelector('button');\n  pageMain.addEventListener('click', () => {\n   \n  if (pageBtnArrow.classList.contains('pagination__arrow-left')) {currentPage = page - 1};\n\n  if (pageBtnArrow.classList.contains('pagination__arrow-right')) {currentPage = page + 1};\n\n   if (pageBtnArrow.classList.contains('pagination__btn')){\n    currentPage = Number.textContent.pageBtnArrow;\n    \n  } console.log( currentPage ) ;\n     \n}); */\n "],"names":["parcelRequire","$gh9Wa","default","fetchPopularMovies","then","results","map","result","poster_path","original_title","genre_ids","release_date","id","genres","join","date","slice","mk","document","querySelector","insertAdjacentHTML","$1bab9c519cfa82bc$var$pageMain","console","log","$1bab9c519cfa82bc$var$pagePag","$1bab9c519cfa82bc$var$markup","page1","total1","now","p","innerHTML","$1bab9c519cfa82bc$var$renderPagination","liElItems","addEventListener","event","e","currentTarget","currentPage","classList","toggle","contains","remove"],"version":3,"file":"index.f53fa94a.js.map"}