{"mappings":"gfAAAA,EAAA,S,sBCAO,IAAMC,EAAO,CAClBC,gBAAiBC,SAASC,cAAc,0BACxCC,cAAeF,SAASC,cAAc,4BAEtCE,WAAYH,SAASC,cAAc,yBACnCG,SAAUJ,SAASC,cAAc,wBCLtBI,EAAc,CACzBC,QAAS,UACTC,MAAO,SAYIC,EAAO,SAAAC,GAClB,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,gBCL7C,SAASC,EAAoBC,GAC3B,IAAMC,EAAYrB,SAASC,cAAc,iBACzCoB,EAAUC,UAAY,GACtBF,EAAQG,KAAI,SAAAC,GACV,IAAQC,EAA6DD,EAA7DC,YAAaC,EAAgDF,EAAhDE,eAAgBC,EAAgCH,EAAhCG,UAAWC,EAAqBJ,EAArBI,aAAcC,EAAOL,EAAPK,GACxDC,EAASH,EACTI,EAAOH,EAAaI,MAAM,EAAG,GAE7BC,GAAK,EAAAC,EAAAC,SAAa,CAAEV,cAAaC,iBAAgBI,SAAQC,OAAMF,OAErER,EAAUe,mBAAmB,YAAaH,E,ICpB9CnC,EAAKK,WAAWkC,iBAAiB,SDAK,WAEpClB,EADgBX,EAAKH,EAAYC,S,ICAnCR,EAAKM,SAASiC,iBAAiB,SDIK,WAElClB,EADgBX,EAAKH,EAAYE,O","sources":["src/js/library.js","src/js/refs.js","src/js/localStorage.js","src/js/renderFromStorage.js","src/js/actionLibrary.js"],"sourcesContent":["import './teamModal';\n\nimport './searchByKeyword';\n\nimport './cardModal';\n\nimport './actionLibrary';\n","export const refs = {\n  addToWatchedBtn: document.querySelector('.modal-button__primary'),\n  addToQueueBtn: document.querySelector('.modal-button__secondary'),\n  \n  btnWatched: document.querySelector('.library__btn-watched'),\n  btnQueue: document.querySelector('.library__btn-queue'),\n};\n  ","export const storageKeys = {\n  WATCHED: 'watched',\n  QUEUE: 'queue',\n};\n\nexport const save = (key, value) => { \n  try { \n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set items error: ', error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\n// export const remove = key => {\n//   try {\n//     localStorage.removeItem(key);\n//   } catch (error) {\n//     console.error('Remove state error: ', error.message);\n//   }\n// };\n","import { load, storageKeys } from './localStorage';\nimport cardTemplate from '../templates/cardTemplate.hbs';\n\n\nexport const loadFromStorageWatched = () => {\n  const results = load(storageKeys.WATCHED);\n  updateMarkupLibrary(results);\n};\n\nexport const loadFromStorageQueue = () => {\n  const results = load(storageKeys.QUEUE);\n  updateMarkupLibrary(results);\n};\n\nfunction updateMarkupLibrary(results){\n  const container = document.querySelector('.main-content');\n  container.innerHTML = '';\n  results.map(result => {\n    const { poster_path, original_title, genre_ids, release_date, id } = result;\n    const genres = genre_ids;//.join(', ');\n    const date = release_date.slice(0, 4);\n\n    const mk = cardTemplate({ poster_path, original_title, genres, date, id });\n\n    container.insertAdjacentHTML('beforeend', mk);\n  });\n}","import { refs } from './refs';\nimport * as renderingFromStorage from './renderFromStorage';\n\n\nrefs.btnWatched.addEventListener('click', renderingFromStorage.loadFromStorageWatched);\nrefs.btnQueue.addEventListener('click', renderingFromStorage.loadFromStorageQueue);"],"names":["parcelRequire","$37e33676934ad046$export$21666b427502ea6d","addToWatchedBtn","document","querySelector","addToQueueBtn","btnWatched","btnQueue","$0aa9cd13c14a6e1e$export$4a127c3d87b83db7","WATCHED","QUEUE","$0aa9cd13c14a6e1e$export$11e63f7b0f3d9900","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$c1e13f604f1f29dc$var$updateMarkupLibrary","results","container","innerHTML","map","result","poster_path","original_title","genre_ids","release_date","id","genres","date","slice","mk","$drCPS","default","insertAdjacentHTML","addEventListener"],"version":3,"file":"library.dce04a5f.js.map"}