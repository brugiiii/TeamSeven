{"mappings":"gfAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,UAEsB,IAAI,E,WAAAE,UAEZC,qBAAqBC,MAAK,SAAAC,GAAUA,EAAPC,QACjCC,KAAI,SAAAC,GACV,IAAQC,EAA6DD,EAA7DC,YAAaC,EAAgDF,EAAhDE,eAAgBC,EAAgCH,EAAhCG,UAAWC,EAAqBJ,EAArBI,aAAcC,EAAOL,EAAPK,GACxDC,EAASH,EAAUI,KAAK,MACxBC,EAAOJ,EAAaK,MAAM,EAAG,GAE7BC,GAAK,EAAAjB,EAAAC,SAAa,CAAEO,cAAaC,iBAAgBI,SAAQE,OAAMH,OAEnDM,SAASC,cAAc,iBAC/BC,mBAAmB,YAAaH,E,kBCZ9CjB,EAAAD,EAAA,UAEsB,IAAI,E,WAAAE,UAEZC,qBAAqBC,MAAK,SAAAC,GAAUA,EAAPC,QACjCC,KAAI,SAAAC,GACV,IAAQC,EAA6DD,EAA7DC,YAAaC,EAAgDF,EAAhDE,eAAgBC,EAAgCH,EAAhCG,UAAWC,EAAqBJ,EAArBI,aAAcC,EAAOL,EAAPK,GACxDC,EAASH,EAAUI,KAAK,MACxBC,EAAOJ,EAAaK,MAAM,EAAG,GAE7BC,GAAK,EAAAjB,EAAAC,SAAa,CAAEO,cAAaC,iBAAgBI,SAAQE,OAAMH,OAEnDM,SAASC,cAAc,iBAC/BC,mBAAmB,YAAaH,E,OAI9C,IAAMI,EAAWH,SAASC,cAAc,eAGxCG,QAAQC,IADG,GAEX,IAEIC,EAAUH,EAERI,EAAc,4CACdC,EAAe,6CAEjBC,EAAS,IAEb,SAA0BC,EAAMC,EAAOC,GAErC,GAAIR,QAAQC,IAAIM,EAAQ,GAAI,CACd,GAARD,IACFD,GAAU,0CAAqDI,OAAXN,EAAW,cAEjE,IAAK,IAAIO,EAAI,EAAGA,GAAKH,EAAOG,IAExBL,GADEK,IAAMJ,EACE,uDAA4DG,OAALH,EAAK,SAE9D,gCAAkCG,OAAFC,EAAE,Q,KAGzC,CACL,GAAIJ,EAAO,EAAG,CACA,GAARA,IACHD,GAAU,0CAAqDI,OAAXN,EAAW,cAEhE,IAAK,IAAIQ,EAAI,EAAGA,GAAKL,EAAO,EAAGK,IAE3BN,GADEM,IAAML,EACE,uDAA4DG,OAALH,EAAK,SAE9D,gCAAkCG,OAAFE,EAAE,SAG9CN,GAAW,0DACXA,GAAU,gCAAsCI,OAANF,EAAM,SAChDF,GAAU,4CAAwDI,OAAZL,EAAY,Y,MAEhE,GAAIE,EAAOC,EAAQ,EAAG,CACpBF,GAAU,0CAAqDI,OAAXN,EAAW,aAC/DE,GAAW,sCACXA,GAAW,0DACX,IAAK,IAAIO,EAAIN,EAAK,EAAGM,GAAKL,EAAOK,GAAI,EAEjCP,GADEO,IAAMN,EACE,uDAA4DG,OAALH,EAAK,SAE9D,gCAAkCG,OAAFG,EAAE,SAG5CP,GADIE,IAAUD,EACJ,mEAA+EG,OAAZL,EAAY,aAE/E,4CAAwDK,OAAZL,EAAY,Y,MAGpE,GAAIE,GAAQC,EAAQ,EAAG,CACrBF,GAAU,0CAAqDI,OAAXN,EAAW,aAC/DE,GAAW,sCACXA,GAAW,0DACX,IAAK,IAAIQ,EAAIP,EAAK,EAAGO,GAAKP,EAAK,EAAGO,GAAI,EAElCR,GADEQ,IAAMP,EACE,uDAA4DG,OAALH,EAAK,SAE9D,gCAAkCG,OAAFI,EAAE,SAE5CR,GAAW,0DACXA,GAAU,gCAAsCI,OAANF,EAAM,SAChDF,GAAU,4CAAwDI,OAAZL,EAAY,Y,CAK9EF,EAAQY,UAAYT,C,EAGlBU,CA5EO,EAEC,IAiGVC,UAAU,GAAGC,iBAAiB,SAAS,SAACC,GACtC,IAAMC,EAAID,EAAME,cAChBpB,QAAQC,IAAIkB,GArGL,IAsGQE,cACbF,EAAEG,UAAUC,OAAO,0BAEbJ,EAAEG,UAAUE,SAAS,2BAC3BL,EAAEG,UAAUG,OAAO,0BAInBN,EAAEG,UAAUC,OAAO,0B","sources":["src/js/index.js","src/js/renderCards.js","src/js/pagination.js"],"sourcesContent":["import './teamModal';\nimport './searchByKeyword';\nimport './renderCards';\nimport './cardModal';\nimport './pagination';\n","import cardTemplate from '../templates/cardTemplate.hbs';\nimport NewApiService from './api-servis';\nconst newApiService = new NewApiService();\n\nnewApiService.fetchPopularMovies().then(({ results }) => {\n  results.map(result => {\n    const { poster_path, original_title, genre_ids, release_date, id } = result;\n    const genres = genre_ids.join(', ');\n    const date = release_date.slice(0, 4);\n\n    const mk = cardTemplate({ poster_path, original_title, genres, date, id });\n\n    const container = document.querySelector('.main-content');\n    container.insertAdjacentHTML('beforeend', mk);\n  });\n});\n","//імпорт асинхронної функції феч з отриманням даних з сервера \nimport cardTemplate from '../templates/cardTemplate.hbs';\nimport NewApiService from './api-servis';\nconst newApiService = new NewApiService();\n\nnewApiService.fetchPopularMovies().then(({ results }) => {\n  results.map(result => {\n    const { poster_path, original_title, genre_ids, release_date, id } = result;\n    const genres = genre_ids.join(', ');\n    const date = release_date.slice(0, 4);\n\n    const mk = cardTemplate({ poster_path, original_title, genres, date, id });\n\n    const container = document.querySelector('.main-content');\n    container.insertAdjacentHTML('beforeend', mk);\n  });\n});\n\nconst pageMain = document.querySelector('.pagination');\n\nlet page = 5;\nconsole.log(page);\nlet total = 20;\nlet cardOnPage = 20;\nlet pagePag = pageMain;\n\nconst LEFT_ARROW = `<svg class=\"pagination__icon-left\"></svg>`;\nconst RIGHT_ARROW = `<svg class=\"pagination__icon-rigth\"></svg>`;\n\nlet markup = '';\n\nfunction renderPagination(page, total, now) {\n  \n  if (console.log(total < 6)) {\n    if (page != 1) {\n      markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n    }\n    for (let p = 1; p <= total; p++) {\n      if (p === page) {\n        markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n      } else {\n      markup += `<li class=\"pagination__btn \">${p}</li>`\n      } \n    }\n  } else {\n    if (page < 4) {\n      if (page != 1) {\n       markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n      }\n      for (let p = 1; p <= page + 2; p++) {\n        if (p === page) {\n          markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n        } else {\n        markup += `<li class=\"pagination__btn \">${p}</li>`\n        }        \n      }\n      markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n      markup += `<li class=\"pagination__btn \">${total}</li>`;\n      markup += `<button class=\"pagination__arrow-right \">${RIGHT_ARROW}</button>`;\n    } else {\n        if (page > total - 3) {\n          markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n          markup += `<li class=\"pagination__btn \">1</li>`;\n          markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n          for (let p = page-2; p <= total; p=p+1) {\n            if (p === page) {\n              markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n            } else {\n            markup += `<li class=\"pagination__btn \">${p}</li>`;\n              }        \n          } if (total === page){\n            markup += `<button class=\"pagination__arrow-right pagination__arrow-hiden\">${RIGHT_ARROW}</button>`;\n            } else {\n            markup += `<button class=\"pagination__arrow-right \">${RIGHT_ARROW}</button>`;\n              }\n        } else {\n          if (page <= total - 3) {\n            markup += `<button class=\"pagination__arrow-left\">${LEFT_ARROW}</button>`;\n            markup += `<li class=\"pagination__btn \">1</li>`;\n            markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n            for (let p = page-2; p <= page+2; p=p+1){\n              if (p === page) {\n                markup += `<li class=\"pagination__btn pagination__btn-active \">${page}</li>`;\n              } else {\n              markup += `<li class=\"pagination__btn \">${p}</li>`;\n                }\n            } markup += `<li class=\"pagination__btn pagination__points\">...</li>`;\n              markup += `<li class=\"pagination__btn \">${total}</li>`;\n              markup += `<button class=\"pagination__arrow-right \">${RIGHT_ARROW}</button>`;   \n          } \n        } \n      } \n\n  pagePag.innerHTML = markup;\n  \n  }}\n    renderPagination(page, total);\n\n\n//add class active for <li> не працює\n   \n  /* let currentItemLi = document.querySelector('.pagination__btn-active');\n      console.log(currentItemLi); \n \n      let liElItem = document.querySelector(\".pagination__btn\");\n      console.log(liElItem);\n      let currentPage = page;\n\n    liElItem.addEventListener('click', () => {\n      if (page === currentPage){\n      liElItem.classList.add('pagination__btn-active');  }    \n      \n      renderPagination(markup); \n\n      if (liElItem.classList.contains('pagination__btn-active')){\n      liElItem.classList.remove('pagination__btn-active');\n       }\n    });  */\n\n  liElItems[0].addEventListener('click', (event) => {\n    const e = event.currentTarget;\n    console.log(e);\n      if (page === currentPage){\n      e.classList.toggle('pagination__btn-active');\n      //e.classList.remove('pagination__btn-active');\n        if (e.classList.contains('pagination__btn-active')){\n      e.classList.remove('pagination__btn-active');\n     // e.classList.toggle('pagination__btn-active');\n      } \n      //e.classList.remove('pagination__btn-active');\n      e.classList.toggle('pagination__btn-active');\n    }    \n          \n      \n  });  \n      \n  /* //лічильник який маэ переключати номерацію при кліку на <>\nconst pageBtnArrow = document.querySelector('button');\n  pageMain.addEventListener('click', () => {\n   \n  if (pageBtnArrow.classList.contains('pagination__arrow-left')) {currentPage = page - 1};\n\n  if (pageBtnArrow.classList.contains('pagination__arrow-right')) {currentPage = page + 1};\n\n   if (pageBtnArrow.classList.contains('pagination__btn')){\n    currentPage = Number.textContent.pageBtnArrow;\n    \n  } console.log( currentPage ) ;\n     \n}); */\n "],"names":["parcelRequire","$drCPS","default","fetchPopularMovies","then","param","results","map","result","poster_path","original_title","genre_ids","release_date","id","genres","join","date","slice","mk","document","querySelector","insertAdjacentHTML","$dfaf77c789ce7a24$var$pageMain","console","log","$dfaf77c789ce7a24$var$pagePag","$dfaf77c789ce7a24$var$LEFT_ARROW","$dfaf77c789ce7a24$var$RIGHT_ARROW","$dfaf77c789ce7a24$var$markup","page1","total1","now","concat","p","p1","p2","p3","innerHTML","$dfaf77c789ce7a24$var$renderPagination","liElItems","addEventListener","event","e","currentTarget","currentPage","classList","toggle","contains","remove"],"version":3,"file":"index.1bbaf75a.js.map"}