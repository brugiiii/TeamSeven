var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},e=n.parcelRequired7c6;null==e&&((e=function(n){if(n in t)return t[n].exports;if(n in i){var e=i[n];delete i[n];var a={id:n,exports:{}};return t[n]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){i[n]=t},n.parcelRequired7c6=e),e("1VOaQ"),e("lxQoS"),e("lcIK4");var a=e("gh9Wa"),o=e("fgrH9"),s=e("lxQoS"),l=e("gjiCh");const r=new(0,o.default),c=new(0,l.default);let _=1,g=20,p="";const u=document.querySelector(".pagination"),d=document.querySelector(".main-content"),f=document.querySelector(".header__search");function h(){const n=document.querySelectorAll(".pagination__btn");for(const t of n)t.classList.contains("pagination__points")||t.addEventListener("click",(n=>{L(1*t.textContent),r.pageNum=_,m(),(0,s.ganreListProcessin)().then(w),v(_,g),h(),b()}));f.addEventListener("submit",(n=>{L(1*liElItem.textContent),m(),(0,s.onInputForm)(),v(_,g),h(),b()}))}function b(){const n=document.querySelectorAll(".js-arrow");for(const t of n)t.addEventListener("click",(n=>{t.classList.contains("pagination__arrow-left")&&(_-=1,r.pageNum=_,m(),(0,s.ganreListProcessin)().then(w),v(_,g),b(),h()),t.classList.contains("pagination__arrow-right")&&(_+=1,r.pageNum=_,m(),(0,s.ganreListProcessin)().then(w),v(_,g),b(),h())}))}async function w(n){try{c.showLoader(),await new Promise((n=>setTimeout(n,300))),await r.fetchPopularMovies().then((({results:t})=>{t.map((t=>{const{poster_path:i,original_title:e,genre_ids:o,release_date:l,id:r}=t,c=l.slice(0,4),_=[...n.genres],g=o;let p=[];for(let n=0;n<g.length;n++){const t=_.find((t=>t.id===g[n]));p.push(t.name)}let u=[...p.slice(0,2),"Other"].join(" ");p.length<s.numberOfGeneras&&(u=[...p].join(" "));const d=(0,a.default)({poster_path:i,original_title:e,currentGanre:u,date:c,id:r});document.querySelector(".main-content").insertAdjacentHTML("beforeend",d)}))})),c.hideLoader()}catch(n){console.error("Помилка під час отримання даних:",n)}}function v(n,t){if(t<6){1!=n&&(p+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let i=1;i<=t;i++)console.log(t),p+=i===n?`<li class="pagination__btn pagination__btn-active ">${n}</li>`:`<li class="pagination__btn ">${i}</li>`}else if(n<4){1!=n&&(p+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>');for(let t=1;t<=n+2;t++)p+=t===n?`<li class="pagination__btn pagination__btn-active ">${n}</li>`:`<li class="pagination__btn ">${t}</li>`;p+='<li class="pagination__btn pagination__points">...</li>',p+=`<li class="pagination__btn ">${t}</li>`,p+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(n>t-3){p+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',p+='<li class="pagination__btn ">1</li>',p+='<li class="pagination__btn pagination__points">...</li>';for(let i=n-2;i<=t;i+=1)p+=i===n?`<li class="pagination__btn pagination__btn-active ">${n}</li>`:`<li class="pagination__btn ">${i}</li>`;p+=t===n?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden"><svg class="pagination__icon-rigth"></svg></button>':'<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}else if(n<=t-3){p+='<button class="pagination__arrow-left js-arrow"><svg class="pagination__icon-left"></svg></button>',p+='<li class="pagination__btn ">1</li>',p+='<li class="pagination__btn pagination__points">...</li>';for(let t=n-2;t<=n+2;t+=1)p+=t===n?`<li class="pagination__btn pagination__btn-active ">${n}</li>`:`<li class="pagination__btn ">${t}</li>`;p+='<li class="pagination__btn pagination__points">...</li>',p+=`<li class="pagination__btn ">${t}</li>`,p+='<button class="pagination__arrow-right js-arrow"><svg class="pagination__icon-rigth"></svg></button>'}u.innerHTML=p,p=""}function m(){u.innerHTML="",d.innerHTML=""}function L(n){_=n}function j(){r.fetchPopularMovies().then((n=>{j=n.total_pages,g=j>500?500:j}))}j(),(0,s.ganreListProcessin)().then(w),v(_,g),h(),b(),function(){let n=document.querySelector(".back-to-top");window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>=300?n.classList.remove("btn-up_hide"):n.classList.add("btn-up_hide")})),n.addEventListener("click",(n=>{n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();a=e("gh9Wa"),o=e("fgrH9"),s=e("lxQoS"),l=e("gjiCh");const y=document.querySelector(".main-content"),T=new(0,o.default),S=new(0,l.default);(0,s.ganreListProcessin)().then((async function(n){try{S.showLoader(),await new Promise((n=>setTimeout(n,300))),await T.fetchPopularMovies().then((({results:t})=>{const i=t.map((({poster_path:t,original_title:i,genre_ids:e,release_date:a,id:o})=>{const l=a.slice(0,4),r=[...n.genres],c=e;let _=[];for(let n=0;n<c.length;n++){const t=r.find((t=>t.id===c[n]));_.push(t.name)}let g=null;return g=_.length<s.numberOfGeneras?_.join(",  "):[..._.slice(0,2),"Other"].join(", "),{poster_path:t,original_title:i,currentGanre:g,date:l,id:o}})),e=(0,a.default)({mk:i});y.innerHTML=e,S.hideLoader()}))}catch(n){console.error("Помилка під час отримання даних:",n)}}));
//# sourceMappingURL=index.3bd90071.js.map
