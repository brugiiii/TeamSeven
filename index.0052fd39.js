!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},e=t.parcelRequired7c6;null==e&&((e=function(n){if(n in a)return a[n].exports;if(n in i){var t=i[n];delete i[n];var e={id:n,exports:{}};return a[n]=e,t.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){i[n]=t},t.parcelRequired7c6=e),e("dsadE"),e("9BNc1");var o=e("bpxeT"),r=e("2TvXO");e("4p7m4");var c=e("igxJ3"),s=e("9BNc1"),l=e("kvC6y"),u=(document.querySelector(".main-content"),new(0,c.default)),_=new(0,l.default);function p(){return(p=n(o)(n(r).mark((function t(a){return n(r).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,_.showLoader(),n.next=4,new Promise((function(n){return setTimeout(n,300)}));case 4:return n.next=6,u.fetchPopularMovies().then((function(n){var t=n.results;(0,s.renderOnScreen)(t,a)}));case 6:_.hideLoader(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error("Помилка під час отримання даних:",n.t0);case 12:case"end":return n.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}(0,s.ganreListProcessin)().then((function(n){return p.apply(this,arguments)})),e("1RG4E");var g=e("drCPS"),f=new(0,(c=e("igxJ3")).default),d=1,b=20,v="",h='<svg class="pagination__icon-left"></svg>',w='<svg class="pagination__icon-rigth"></svg>',m=document.querySelector(".pagination"),y=document.querySelector(".main-content");function L(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,d=t,f.pageNum=d,q(),x(),j(),L(),S()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function S(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(d-=1,f.pageNum=d,q(),x(),j(),S(),L()),a.classList.contains("pagination__arrow-right")&&(d+=1,f.pageNum=d,q(),x(),j(),S(),L())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function x(){document.querySelector(".main-content");f.fetchPopularMovies().then((function(n){n.results.map((function(n){var t=n.poster_path,a=n.original_title,i=n.genre_ids,e=n.release_date,o=n.id,r=i.join(", "),c=e.slice(0,4),s=(0,g.default)({poster_path:t,original_title:a,genres:r,date:c,id:o});document.querySelector(".main-content").insertAdjacentHTML("beforeend",s)}))}))}function j(){if(b<6){1!=d&&(v+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"));for(var n=1;n<=b;n++)console.log(b),v+=n===d?'<li class="pagination__btn pagination__btn-active ">'.concat(d,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(d<4){1!=d&&(v+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"));for(var t=1;t<=d+2;t++)v+=t===d?'<li class="pagination__btn pagination__btn-active ">'.concat(d,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");v+='<li class="pagination__btn pagination__points">...</li>',v+='<li class="pagination__btn ">'.concat(b,"</li>"),v+='<button class="pagination__arrow-right js-arrow">'.concat(w,"</button>")}else if(d>b-3){v+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"),v+='<li class="pagination__btn ">1</li>',v+='<li class="pagination__btn pagination__points">...</li>';for(var a=d-2;a<=b;a+=1)v+=a===d?'<li class="pagination__btn pagination__btn-active ">'.concat(d,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");v+=b===d?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(w,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(w,"</button>")}else if(d<=b-3){v+='<button class="pagination__arrow-left js-arrow">'.concat(h,"</button>"),v+='<li class="pagination__btn ">1</li>',v+='<li class="pagination__btn pagination__points">...</li>';for(var i=d-2;i<=d+2;i+=1)v+=i===d?'<li class="pagination__btn pagination__btn-active ">'.concat(d,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");v+='<li class="pagination__btn pagination__points">...</li>',v+='<li class="pagination__btn ">'.concat(b,"</li>"),v+='<button class="pagination__arrow-right js-arrow">'.concat(w,"</button>")}m.innerHTML=v,v=""}function q(){m.innerHTML="",y.innerHTML=""}function T(){f.fetchPopularMovies().then((function(n){T=n.total_pages,b=T>500?500:T}))}T(),x(),j(),L(),S();o=e("bpxeT");var M,k=e("8nrFW"),E=(r=e("2TvXO"),c=e("igxJ3"),e("4p7m4")),N=new(0,(c=e("igxJ3")).default),O=(new(0,c.default),{searchForm:document.querySelector(".header__search"),main:document.querySelector(".main-content"),wrongSearchMess:document.querySelector(".wrong-search")}),P=1,H=20,A="",C='<svg class="pagination__icon-left"></svg>',J='<svg class="pagination__icon-rigth"></svg>',F=document.querySelector(".pagination");function R(){return D.apply(this,arguments)}function D(){return(D=n(o)(n(r).mark((function t(){var a,i,e;return n(r).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=JSON.parse(localStorage.getItem("ganre-List")),n.prev=1,localStorage.getItem("ganre-List")){n.next=9;break}return n.next=5,N.fetchGenresMovies();case 5:i=n.sent,a=i,e=JSON.stringify(i),localStorage.setItem("ganre-List",e);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("ganreListProcessin",n.t0);case 14:return n.abrupt("return",a);case 15:case"end":return n.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function G(n){return I.apply(this,arguments)}function I(){return(I=n(o)(n(r).mark((function t(a){return n(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.fetchSearchMoviesPages().then((function(t){var i=t.results;if(O.wrongSearchMess.classList.add("visually-hidden"),i.length){var e=i.map((function(t){var i=function(n){var t=l.find((function(t){return t.id===u[n]}));_.push(t.name)},e=t.title,o=t.release_date,r=t.poster_path,c=t.genre_ids,s=t.id;o=o.slice(0,4),r="https://image.tmdb.org/t/p/w500".concat(r);for(var l=n(k)(a.genres),u=c,_=[],p=0;p<u.length;p++)i(p);var g=n(k)(_.slice(0,2)).concat(["Other"]).join(" ");return _.length<4&&(g=n(k)(_).join(" ")),{title:e,release_date:o,currentGanre:g,poster_path:r,id:s}})),o=(0,E.default)({articleStore:e});O.main.innerHTML=o}else O.wrongSearchMess.classList.remove("visually-hidden")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("createCards",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function B(){var n=document.querySelectorAll(".pagination__btn"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;if(a.classList.contains("pagination__points"))return"continue";a.addEventListener("click",(function(n){var t;t=1*a.textContent,P=t,N.pageNum=P,X(),R(N.query).then(G),W(),B(),U()}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function U(){var n=document.querySelectorAll(".js-arrow"),t=!0,a=!1,i=void 0;try{for(var e,o=function(n,t){var a=t.value;a.addEventListener("click",(function(n){a.classList.contains("pagination__arrow-left")&&(P-=1,N.pageNum=P,X(),R(N.query).then(G),W(),U(),B()),a.classList.contains("pagination__arrow-right")&&(P+=1,N.pageNum=P,X(),R(N.query).then(G),W(),U(),B())}))},r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0)o(0,e)}catch(n){a=!0,i=n}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}function W(){if(H<6){1!=P&&(A+='<button class="pagination__arrow-left js-arrow">'.concat(LEFT_ARROW,"</button>"));for(var n=1;n<=H;n++)A+=n===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(n,"</li>")}else if(P<4){1!=P&&(A+='<button class="pagination__arrow-left js-arrow">'.concat(C,"</button>"));for(var t=1;t<=P+2;t++)A+=t===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(t,"</li>");A+='<li class="pagination__btn pagination__points">...</li>',A+='<li class="pagination__btn ">'.concat(H,"</li>"),A+='<button class="pagination__arrow-right js-arrow">'.concat(J,"</button>")}else if(P>H-3){A+='<button class="pagination__arrow-left js-arrow">'.concat(C,"</button>"),A+='<li class="pagination__btn ">1</li>',A+='<li class="pagination__btn pagination__points">...</li>';for(var a=P-2;a<=H;a+=1)A+=a===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(a,"</li>");A+=H===P?'<button class="pagination__arrow-right js-arrow pagination__arrow-hiden">'.concat(J,"</button>"):'<button class="pagination__arrow-right js-arrow">'.concat(J,"</button>")}else if(P<=H-3){A+='<button class="pagination__arrow-left js-arrow">'.concat(C,"</button>"),A+='<li class="pagination__btn ">1</li>',A+='<li class="pagination__btn pagination__points">...</li>';for(var i=P-2;i<=P+2;i+=1)A+=i===P?'<li class="pagination__btn pagination__btn-active ">'.concat(P,"</li>"):'<li class="pagination__btn ">'.concat(i,"</li>");A+='<li class="pagination__btn pagination__points">...</li>',A+='<li class="pagination__btn ">'.concat(H,"</li>"),A+='<button class="pagination__arrow-right js-arrow">'.concat(J,"</button>")}F.innerHTML=A,A=""}function X(){F.innerHTML=""}function Y(){N.fetchSearchMoviesPages(N.query).then((function(n){console.log(N.query),Y=n.total_pages,H=Y>500?500:Y}))}O.searchForm.addEventListener("submit",(function(n){n.preventDefault(),function(n){N.query=n.currentTarget.elements.search.value,R().then(G)}(n),Y(),X(),W(),B(),U()})),M=document.querySelector(".back-to-top"),window.addEventListener("scroll",(function(){(window.scrollY||document.documentElement.scrollTop)>=300?M.classList.remove("btn-up_hide"):M.classList.add("btn-up_hide")})),M.addEventListener("click",(function(n){n.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.0052fd39.js.map
